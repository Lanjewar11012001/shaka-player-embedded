<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Shaka Player Embedded: shaka::memory::V8HeapTracer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Shaka Player Embedded
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceshaka.html">shaka</a></li><li class="navelem"><a class="el" href="namespaceshaka_1_1memory.html">memory</a></li><li class="navelem"><a class="el" href="classshaka_1_1memory_1_1V8HeapTracer.html">V8HeapTracer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classshaka_1_1memory_1_1V8HeapTracer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">shaka::memory::V8HeapTracer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="v8__heap__tracer_8h_source.html">v8_heap_tracer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for shaka::memory::V8HeapTracer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classshaka_1_1memory_1_1V8HeapTracer.png" usemap="#shaka::memory::V8HeapTracer_map" alt=""/>
  <map id="shaka::memory::V8HeapTracer_map" name="shaka::memory::V8HeapTracer_map">
<area href="classshaka_1_1memory_1_1HeapTracer.html" alt="shaka::memory::HeapTracer" shape="rect" coords="195,0,380,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa86f43219243e2d7075886e0df8639ec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1V8HeapTracer.html#aa86f43219243e2d7075886e0df8639ec">V8HeapTracer</a> ()</td></tr>
<tr class="separator:aa86f43219243e2d7075886e0df8639ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab825cf97985ce85cfed1d5cd40c9d84b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1V8HeapTracer.html#ab825cf97985ce85cfed1d5cd40c9d84b">~V8HeapTracer</a> () override</td></tr>
<tr class="separator:ab825cf97985ce85cfed1d5cd40c9d84b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afead91e5a78ea618326a4ae8b0115d59"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1V8HeapTracer.html#afead91e5a78ea618326a4ae8b0115d59">IsTracingDone</a> () override</td></tr>
<tr class="separator:afead91e5a78ea618326a4ae8b0115d59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5338276f346ec8ac754594cbfc637acd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1V8HeapTracer.html#a5338276f346ec8ac754594cbfc637acd">TracePrologue</a> (TraceFlags flags) override</td></tr>
<tr class="separator:a5338276f346ec8ac754594cbfc637acd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe7179386b15da01177c60b0fe526e15"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1V8HeapTracer.html#abe7179386b15da01177c60b0fe526e15">TraceEpilogue</a> (TraceSummary *trace_summary) override</td></tr>
<tr class="separator:abe7179386b15da01177c60b0fe526e15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fd95d7b09dc06bbdf09b67cf50701fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1V8HeapTracer.html#a0fd95d7b09dc06bbdf09b67cf50701fd">EnterFinalPause</a> (EmbedderStackState stack_state) override</td></tr>
<tr class="separator:a0fd95d7b09dc06bbdf09b67cf50701fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c8a6d3acb711de477723182efabaaa3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1V8HeapTracer.html#a8c8a6d3acb711de477723182efabaaa3">RegisterV8References</a> (const std::vector&lt; std::pair&lt; void *, void *&gt;&gt; &amp;internal_fields) override</td></tr>
<tr class="separator:a8c8a6d3acb711de477723182efabaaa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8310c4164e1db3761d743a5f881e68ca"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1V8HeapTracer.html#a8310c4164e1db3761d743a5f881e68ca">AdvanceTracing</a> (double deadline_ms) override</td></tr>
<tr class="separator:a8310c4164e1db3761d743a5f881e68ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classshaka_1_1memory_1_1HeapTracer"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classshaka_1_1memory_1_1HeapTracer')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classshaka_1_1memory_1_1HeapTracer.html">shaka::memory::HeapTracer</a></td></tr>
<tr class="memitem:a67b150ec2a6fcbd0878547f4a25d5ba6 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1HeapTracer.html#a67b150ec2a6fcbd0878547f4a25d5ba6">HeapTracer</a> ()</td></tr>
<tr class="separator:a67b150ec2a6fcbd0878547f4a25d5ba6 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8f735b3b43697f42fdfe8b405c35b6d inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1HeapTracer.html#ae8f735b3b43697f42fdfe8b405c35b6d">~HeapTracer</a> ()</td></tr>
<tr class="separator:ae8f735b3b43697f42fdfe8b405c35b6d inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bd83b13a356ad67c852923ebd87c695 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memItemLeft" align="right" valign="top">const std::unordered_set&lt; const <a class="el" href="classshaka_1_1memory_1_1Traceable.html">Traceable</a> * &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1HeapTracer.html#a2bd83b13a356ad67c852923ebd87c695">alive</a> () const</td></tr>
<tr class="separator:a2bd83b13a356ad67c852923ebd87c695 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00c4c9c8faa747be0729ef6ebf25578e inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1HeapTracer.html#a00c4c9c8faa747be0729ef6ebf25578e">ForceAlive</a> (const <a class="el" href="classshaka_1_1memory_1_1Traceable.html">Traceable</a> *ptr)</td></tr>
<tr class="separator:a00c4c9c8faa747be0729ef6ebf25578e inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a944a94f9110f26a5fe7838b48527ade3 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1HeapTracer.html#a944a94f9110f26a5fe7838b48527ade3">Trace</a> (const <a class="el" href="classshaka_1_1memory_1_1Traceable.html">Traceable</a> *ptr)</td></tr>
<tr class="separator:a944a94f9110f26a5fe7838b48527ade3 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38ebcb57d73531a1351377e750334830 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a38ebcb57d73531a1351377e750334830 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1HeapTracer.html#a38ebcb57d73531a1351377e750334830">Trace</a> (const std::vector&lt; T &gt; *array)</td></tr>
<tr class="separator:a38ebcb57d73531a1351377e750334830 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8657d56782ddf334b10d52eec25a4f20 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a8657d56782ddf334b10d52eec25a4f20 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1HeapTracer.html#a8657d56782ddf334b10d52eec25a4f20">Trace</a> (const std::list&lt; T &gt; *array)</td></tr>
<tr class="separator:a8657d56782ddf334b10d52eec25a4f20 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a109a9e1854a78052ab35c83b1ff8cb63 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memTemplParams" colspan="2">template&lt;typename Key , typename Value &gt; </td></tr>
<tr class="memitem:a109a9e1854a78052ab35c83b1ff8cb63 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1HeapTracer.html#a109a9e1854a78052ab35c83b1ff8cb63">Trace</a> (const std::unordered_map&lt; Key, Value &gt; *map)</td></tr>
<tr class="separator:a109a9e1854a78052ab35c83b1ff8cb63 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51f3c0db0b05469b9d4798d363bfc44e inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a51f3c0db0b05469b9d4798d363bfc44e inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1HeapTracer.html#a51f3c0db0b05469b9d4798d363bfc44e">Trace</a> (const <a class="el" href="classshaka_1_1optional.html">optional</a>&lt; T &gt; *opt)</td></tr>
<tr class="separator:a51f3c0db0b05469b9d4798d363bfc44e inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e87a18a97f8c7b2c8f603d029de46d6 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memTemplParams" colspan="2">template&lt;typename... Types&gt; </td></tr>
<tr class="memitem:a3e87a18a97f8c7b2c8f603d029de46d6 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1HeapTracer.html#a3e87a18a97f8c7b2c8f603d029de46d6">Trace</a> (const <a class="el" href="classshaka_1_1variant.html">variant</a>&lt; Types... &gt; *<a class="el" href="classshaka_1_1variant.html">variant</a>)</td></tr>
<tr class="separator:a3e87a18a97f8c7b2c8f603d029de46d6 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac70af2eb3db9dd1b68cd605a2ff2d80d inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1HeapTracer.html#ac70af2eb3db9dd1b68cd605a2ff2d80d">Trace</a> (const std::string *)</td></tr>
<tr class="separator:ac70af2eb3db9dd1b68cd605a2ff2d80d inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a643c439c2ffcbfe0a371723c7bb8ad79 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1HeapTracer.html#a643c439c2ffcbfe0a371723c7bb8ad79">Trace</a> (const bool *)</td></tr>
<tr class="separator:a643c439c2ffcbfe0a371723c7bb8ad79 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a215bd5d1382a8de1d4d38119a8e88a7f inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memTemplParams" colspan="2">template&lt;typename T , typename  = util::enable_if_t&lt;util::is_number&lt;T&gt;::value ||                                         std::is_enum&lt;T&gt;::value&gt;&gt; </td></tr>
<tr class="memitem:a215bd5d1382a8de1d4d38119a8e88a7f inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1HeapTracer.html#a215bd5d1382a8de1d4d38119a8e88a7f">Trace</a> (const T *)</td></tr>
<tr class="separator:a215bd5d1382a8de1d4d38119a8e88a7f inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d907e0a03478271768e06d7a250b222 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1HeapTracer.html#a9d907e0a03478271768e06d7a250b222">BeginPass</a> ()</td></tr>
<tr class="separator:a9d907e0a03478271768e06d7a250b222 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc461f750843a3066284ba67bc8d8cf2 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1HeapTracer.html#afc461f750843a3066284ba67bc8d8cf2">TraceAll</a> (const std::unordered_set&lt; const <a class="el" href="classshaka_1_1memory_1_1Traceable.html">Traceable</a> *&gt; &amp;ref_alive)</td></tr>
<tr class="separator:afc461f750843a3066284ba67bc8d8cf2 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70e345febdf8fa459d021a3efcaa4004 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1memory_1_1HeapTracer.html#a70e345febdf8fa459d021a3efcaa4004">ResetState</a> ()</td></tr>
<tr class="separator:a70e345febdf8fa459d021a3efcaa4004 inherit pub_methods_classshaka_1_1memory_1_1HeapTracer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This wraps the normal <a class="el" href="classshaka_1_1memory_1_1HeapTracer.html">HeapTracer</a> in an interface that can be used by V8 to track objects. Methods defined here will be called by V8 when it decides that a GC needs to be run.</p>
<p>This explains how the V8 GC works and how we interact with it:</p>
<p>There are two kinds of objects that are managed by different GCs, a JavaScript object (v8::Value) which is handled by the V8 gc, and <a class="el" href="classshaka_1_1BackingObject.html">BackingObject</a>'s which are handled by <a class="el" href="classshaka_1_1memory_1_1ObjectTracker.html">ObjectTracker</a>. When the V8 GC runs, we need to tell it what objects we hold so it knows the V8 objects to delete. That is the purpose of this class.</p>
<p>When a V8 pass start, V8 will call TracePrologue. Then it will traverse its objects, marking alive objects. <a class="el" href="classshaka_1_1Any.html">Any</a> object that looks like a wrapper will be added to a list. Once the traversal is done, it will call RegisterV8References passing in the list. Then it will call AdvanceTracing to allow us to traverse our heap. We should traverse our alive objects and any wrapper objects given to us. We should then (a) mark these object as alive so we don't free them, and (b) tell V8 about any objects we hold.</p>
<p>When we tell V8 about alive objects, it may need to do some more traversals, which may in turn find more wrappers. If this happens, it will call RegisterV8References and AdvanceTracing again.</p>
<p>At points between method calls, it is possible for JavaScript to run. Because this runs on the event thread, it is not possible for JavaScript to run while one of these methods are being called, but between it is possible. V8 monitors all the objects and will ensure that any new objects will be given to us.</p>
<p>After V8 has traced every object TraceEpilogue is called. We use this to free any object that is not marked as alive. </p>

<p>Definition at line <a class="el" href="v8__heap__tracer_8h_source.html#l00061">61</a> of file <a class="el" href="v8__heap__tracer_8h_source.html">v8_heap_tracer.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa86f43219243e2d7075886e0df8639ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa86f43219243e2d7075886e0df8639ec">&sect;&nbsp;</a></span>V8HeapTracer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">shaka::memory::V8HeapTracer::V8HeapTracer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="v8__heap__tracer_8cc_source.html#l00026">26</a> of file <a class="el" href="v8__heap__tracer_8cc_source.html">v8_heap_tracer.cc</a>.</p>

</div>
</div>
<a id="ab825cf97985ce85cfed1d5cd40c9d84b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab825cf97985ce85cfed1d5cd40c9d84b">&sect;&nbsp;</a></span>~V8HeapTracer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">shaka::memory::V8HeapTracer::~V8HeapTracer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="v8__heap__tracer_8cc_source.html#l00028">28</a> of file <a class="el" href="v8__heap__tracer_8cc_source.html">v8_heap_tracer.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8310c4164e1db3761d743a5f881e68ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8310c4164e1db3761d743a5f881e68ca">&sect;&nbsp;</a></span>AdvanceTracing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool shaka::memory::V8HeapTracer::AdvanceTracing </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>deadline_ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called by V8 to advance the GC run. We should only take |deadline_ms| time to complete, telling V8 whether there is more work to do. </p><dl class="section return"><dt>Returns</dt><dd>True if there is more work to do, false if done. </dd></dl>

<p>Definition at line <a class="el" href="v8__heap__tracer_8cc_source.html#l00057">57</a> of file <a class="el" href="v8__heap__tracer_8cc_source.html">v8_heap_tracer.cc</a>.</p>

</div>
</div>
<a id="a0fd95d7b09dc06bbdf09b67cf50701fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fd95d7b09dc06bbdf09b67cf50701fd">&sect;&nbsp;</a></span>EnterFinalPause()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::memory::V8HeapTracer::EnterFinalPause </td>
          <td>(</td>
          <td class="paramtype">EmbedderStackState&#160;</td>
          <td class="paramname"><em>stack_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called by V8 when entering the final marking phase. There will be no more incremental marking calls. </p>

<p>Definition at line <a class="el" href="v8__heap__tracer_8cc_source.html#l00047">47</a> of file <a class="el" href="v8__heap__tracer_8cc_source.html">v8_heap_tracer.cc</a>.</p>

</div>
</div>
<a id="afead91e5a78ea618326a4ae8b0115d59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afead91e5a78ea618326a4ae8b0115d59">&sect;&nbsp;</a></span>IsTracingDone()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool shaka::memory::V8HeapTracer::IsTracingDone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Whether tracing is done. </dd></dl>

<p>Definition at line <a class="el" href="v8__heap__tracer_8cc_source.html#l00030">30</a> of file <a class="el" href="v8__heap__tracer_8cc_source.html">v8_heap_tracer.cc</a>.</p>

</div>
</div>
<a id="a8c8a6d3acb711de477723182efabaaa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c8a6d3acb711de477723182efabaaa3">&sect;&nbsp;</a></span>RegisterV8References()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::memory::V8HeapTracer::RegisterV8References </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; void *, void *&gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>internal_fields</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called by V8 to tell us about wrapper objects. The pair contains the internal field values of the wrapper object. We should store the values and process them only in AdvanceTracing. </p>

<p>Definition at line <a class="el" href="v8__heap__tracer_8cc_source.html#l00049">49</a> of file <a class="el" href="v8__heap__tracer_8cc_source.html">v8_heap_tracer.cc</a>.</p>

</div>
</div>
<a id="abe7179386b15da01177c60b0fe526e15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe7179386b15da01177c60b0fe526e15">&sect;&nbsp;</a></span>TraceEpilogue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::memory::V8HeapTracer::TraceEpilogue </td>
          <td>(</td>
          <td class="paramtype">TraceSummary *&#160;</td>
          <td class="paramname"><em>trace_summary</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called by V8 when a GC pass ends. </p>

<p>Definition at line <a class="el" href="v8__heap__tracer_8cc_source.html#l00040">40</a> of file <a class="el" href="v8__heap__tracer_8cc_source.html">v8_heap_tracer.cc</a>.</p>

</div>
</div>
<a id="a5338276f346ec8ac754594cbfc637acd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5338276f346ec8ac754594cbfc637acd">&sect;&nbsp;</a></span>TracePrologue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void shaka::memory::V8HeapTracer::TracePrologue </td>
          <td>(</td>
          <td class="paramtype">TraceFlags&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called by V8 when a GC pass begins. </p>

<p>Definition at line <a class="el" href="v8__heap__tracer_8cc_source.html#l00034">34</a> of file <a class="el" href="v8__heap__tracer_8cc_source.html">v8_heap_tracer.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>shaka/src/memory/<a class="el" href="v8__heap__tracer_8h_source.html">v8_heap_tracer.h</a></li>
<li>shaka/src/memory/<a class="el" href="v8__heap__tracer_8cc_source.html">v8_heap_tracer.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
