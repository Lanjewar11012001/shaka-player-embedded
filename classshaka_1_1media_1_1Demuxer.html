<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Shaka Player Embedded: shaka::media::Demuxer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Shaka Player Embedded
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceshaka.html">shaka</a></li><li class="navelem"><a class="el" href="namespaceshaka_1_1media.html">media</a></li><li class="navelem"><a class="el" href="classshaka_1_1media_1_1Demuxer.html">Demuxer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classshaka_1_1media_1_1Demuxer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">shaka::media::Demuxer Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span><div class="ingroups"><a class="el" href="group__exported.html">Public Types</a> &raquo; <a class="el" href="group__media.html">MediaPlayer Implementations</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="demuxer_8h_source.html">demuxer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for shaka::media::Demuxer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classshaka_1_1media_1_1Demuxer.png" usemap="#shaka::media::Demuxer_map" alt=""/>
  <map id="shaka::media::Demuxer_map" name="shaka::media::Demuxer_map">
<area href="classshaka_1_1media_1_1ffmpeg_1_1FFmpegDemuxer.html" alt="shaka::media::ffmpeg::FFmpegDemuxer" shape="rect" coords="0,56,230,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1Demuxer_1_1Client.html">Client</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af6486813965166476551f2fb6aedfb3f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1Demuxer.html#af6486813965166476551f2fb6aedfb3f">Demuxer</a> ()</td></tr>
<tr class="separator:af6486813965166476551f2fb6aedfb3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81497b2e227417b4157c2a922c5d6550"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1Demuxer.html#a81497b2e227417b4157c2a922c5d6550">~ Demuxer</a> ()</td></tr>
<tr class="separator:a81497b2e227417b4157c2a922c5d6550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4923180b24f9b96b5105d037118762d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1Demuxer.html#a4923180b24f9b96b5105d037118762d5">Demuxer</a> (const <a class="el" href="classshaka_1_1media_1_1Demuxer.html">Demuxer</a> &amp;)=delete</td></tr>
<tr class="separator:a4923180b24f9b96b5105d037118762d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9868240b0dcdccf2d410b819951c145f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classshaka_1_1media_1_1Demuxer.html">Demuxer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1Demuxer.html#a9868240b0dcdccf2d410b819951c145f">operator=</a> (const <a class="el" href="classshaka_1_1media_1_1Demuxer.html">Demuxer</a> &amp;)=delete</td></tr>
<tr class="separator:a9868240b0dcdccf2d410b819951c145f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40de80ada96fad4cb942685de7e266f1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1Demuxer.html#a40de80ada96fad4cb942685de7e266f1">Demuxer</a> (<a class="el" href="classshaka_1_1media_1_1Demuxer.html">Demuxer</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a40de80ada96fad4cb942685de7e266f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa97499bd58488526352aa4cdaa0ac494"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classshaka_1_1media_1_1Demuxer.html">Demuxer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1Demuxer.html#aa97499bd58488526352aa4cdaa0ac494">operator=</a> (<a class="el" href="classshaka_1_1media_1_1Demuxer.html">Demuxer</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:aa97499bd58488526352aa4cdaa0ac494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a267d11f04e403aa0de0414b99a7733"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1Demuxer.html#a4a267d11f04e403aa0de0414b99a7733">SwitchType</a> (const std::string &amp;mime_type)</td></tr>
<tr class="separator:a4a267d11f04e403aa0de0414b99a7733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa61e36e87b4f6e062986b8f736354a4b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1Demuxer.html#aa61e36e87b4f6e062986b8f736354a4b">Reset</a> ()=0</td></tr>
<tr class="separator:aa61e36e87b4f6e062986b8f736354a4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a0f4513c2d57d0cfe9a8886d02e3f32"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classshaka_1_1media_1_1Demuxer.html#a6a0f4513c2d57d0cfe9a8886d02e3f32">Demux</a> (double timestamp_offset, const uint8_t *data, size_t size, std::vector&lt; std::shared_ptr&lt; <a class="el" href="classshaka_1_1media_1_1EncodedFrame.html">EncodedFrame</a> &gt;&gt; *<a class="el" href="streams_8cc.html#a42a0256d54eab4dd6dcd1379fcdbc420">frames</a>)=0</td></tr>
<tr class="separator:a6a0f4513c2d57d0cfe9a8886d02e3f32"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is given raw bytes from an input stream and produces <a class="el" href="classshaka_1_1media_1_1EncodedFrame.html">EncodedFrame</a> objects. This must do so synchronously and is called on a background thread. This is only used from a single thread after being created. </p>

<p>Definition at line <a class="el" href="demuxer_8h_source.html#l00035">35</a> of file <a class="el" href="demuxer_8h_source.html">demuxer.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af6486813965166476551f2fb6aedfb3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6486813965166476551f2fb6aedfb3f">&sect;&nbsp;</a></span>Demuxer() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">shaka::media::Demuxer::Demuxer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a81497b2e227417b4157c2a922c5d6550"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81497b2e227417b4157c2a922c5d6550">&sect;&nbsp;</a></span>~ Demuxer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual shaka::media::Demuxer::~ <a class="el" href="classshaka_1_1media_1_1Demuxer.html">Demuxer</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4923180b24f9b96b5105d037118762d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4923180b24f9b96b5105d037118762d5">&sect;&nbsp;</a></span>Demuxer() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">shaka::media::Demuxer::Demuxer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classshaka_1_1media_1_1Demuxer.html">Demuxer</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a40de80ada96fad4cb942685de7e266f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40de80ada96fad4cb942685de7e266f1">&sect;&nbsp;</a></span>Demuxer() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">shaka::media::Demuxer::Demuxer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classshaka_1_1media_1_1Demuxer.html">Demuxer</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6a0f4513c2d57d0cfe9a8886d02e3f32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a0f4513c2d57d0cfe9a8886d02e3f32">&sect;&nbsp;</a></span>Demux()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool shaka::media::Demuxer::Demux </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>timestamp_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::shared_ptr&lt; <a class="el" href="classshaka_1_1media_1_1EncodedFrame.html">EncodedFrame</a> &gt;&gt; *&#160;</td>
          <td class="paramname"><em>frames</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Attempts to demux the given data into some number of encoded frames.</p>
<p>If the data contains multiple streams (i.e. multiplexed content), then all frames will be given and they will be separated based on their <em>stream_info</em> field.</p>
<p>This may be given segments from a different source after starting. This will be first given the init segment for the new stream then the new segments. This should support this case and reinitialize the demxuer if needed. The resulting frames should have different <em>stream_info</em> fields from before, even if they are of the same type and codec.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timestamp_offset</td><td>The current offset to add to the timestamps. </td></tr>
    <tr><td class="paramname">data</td><td>The data to demux. </td></tr>
    <tr><td class="paramname">size</td><td>The number of bytes in data. </td></tr>
    <tr><td class="paramname">frames</td><td>[OUT] Where to insert newly created frames. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, false on error. </dd></dl>

<p>Implemented in <a class="el" href="classshaka_1_1media_1_1ffmpeg_1_1FFmpegDemuxer.html#a07ff253ab815e46a58ae290c8ed411e0">shaka::media::ffmpeg::FFmpegDemuxer</a>.</p>

</div>
</div>
<a id="aa97499bd58488526352aa4cdaa0ac494"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa97499bd58488526352aa4cdaa0ac494">&sect;&nbsp;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classshaka_1_1media_1_1Demuxer.html">Demuxer</a>&amp; shaka::media::Demuxer::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classshaka_1_1media_1_1Demuxer.html">Demuxer</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9868240b0dcdccf2d410b819951c145f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9868240b0dcdccf2d410b819951c145f">&sect;&nbsp;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classshaka_1_1media_1_1Demuxer.html">Demuxer</a>&amp; shaka::media::Demuxer::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classshaka_1_1media_1_1Demuxer.html">Demuxer</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa61e36e87b4f6e062986b8f736354a4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa61e36e87b4f6e062986b8f736354a4b">&sect;&nbsp;</a></span>Reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void shaka::media::Demuxer::Reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Resets the demuxer to parse a new stream. This may be called when adapting before parsing a new stream. This should reset any partial reads and should prepare to read from a new stream. This may not be called during adaptation, so the demuxer should still handle getting a new init segment without calling Reset first. </p>

<p>Implemented in <a class="el" href="classshaka_1_1media_1_1ffmpeg_1_1FFmpegDemuxer.html#a3b1463d210603e5deaee9b7b76f5f0ed">shaka::media::ffmpeg::FFmpegDemuxer</a>.</p>

</div>
</div>
<a id="a4a267d11f04e403aa0de0414b99a7733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a267d11f04e403aa0de0414b99a7733">&sect;&nbsp;</a></span>SwitchType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Doxygen_Skip bool shaka::media::Demuxer::SwitchType </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>mime_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Switches to demux content of the given MIME type. It is not required for this to be supported; but if it is supported, this will be called before changing containers. This is not called for changing codec profiles or adaptation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mime_type</td><td>The MIME type to start demuxing. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, false on error or unsupported. </dd></dl>

<p>Definition at line <a class="el" href="demuxer_8cc_source.html#l00043">43</a> of file <a class="el" href="demuxer_8cc_source.html">demuxer.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>shaka/include/shaka/media/<a class="el" href="demuxer_8h_source.html">demuxer.h</a></li>
<li>shaka/src/media/<a class="el" href="demuxer_8cc_source.html">demuxer.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
