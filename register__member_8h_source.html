<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Shaka Player Embedded: shaka/src/mapping/register_member.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Shaka Player Embedded
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ef4a656ca1a879eddb6f6ef71d8616b2.html">shaka</a></li><li class="navelem"><a class="el" href="dir_4edb96610081118726370c3c30432451.html">src</a></li><li class="navelem"><a class="el" href="dir_358362540a8f26b6e3ab35323b05d839.html">mapping</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">register_member.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="register__member_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2016 Google LLC</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// you may not use this file except in compliance with the License.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// You may obtain a copy of the License at</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//     https://www.apache.org/licenses/LICENSE-2.0</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// Unless required by applicable law or agreed to in writing, software</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// See the License for the specific language governing permissions and</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// limitations under the License.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#ifndef SHAKA_EMBEDDED_MAPPING_REGISTER_MEMBER_H_</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#define SHAKA_EMBEDDED_MAPPING_REGISTER_MEMBER_H_</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;type_traits&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="js__error_8h.html">src/js/js_error.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="backing__object_8h.html">src/mapping/backing_object.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="convert__js_8h.html">src/mapping/convert_js.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="enum_8h.html">src/mapping/enum.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="exception__or_8h.html">src/mapping/exception_or.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="js__engine_8h.html">src/mapping/js_engine.h</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="js__wrappers_8h.html">src/mapping/js_wrappers.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="names_8h.html">src/mapping/names.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="promise_8h.html">src/mapping/promise.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="templates_8h.html">src/util/templates.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2util_2utils_8h.html">src/util/utils.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceshaka.html">shaka</a> {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">namespace </span>impl {</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#if defined(USING_V8)</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#  define SET_RETURN_VALUE(args, value) (args).GetReturnValue().Set(value)</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#  define SET_EXCEPTION(args, except) GetIsolate()-&gt;ThrowException(except)</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#  define GET_ARG_THIS(args) (static_cast&lt;v8::Local&lt;v8::Value&gt;&gt;((args).This()))</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#elif defined(USING_JSC)</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#  define SET_EXCEPTION(args, except) (args).SetException(except)</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#  define SET_RETURN_VALUE(args, value) (args).SetReturn(value)</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#  define GET_ARG_THIS(args) ((args).thisv())</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="keyword">using</span> <a class="code" href="namespaceshaka_1_1impl.html#ae6267ff59607be3e3b48f714923eb3d8">RawType</a> =</div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="namespaceshaka_1_1impl.html#ae6267ff59607be3e3b48f714923eb3d8">   70</a></span>&#160;    <span class="keyword">typename</span> <a class="code" href="dom__exception_8cc.html#a413eab66b8192a2ac20583b419ab9d8a">std::remove_cv&lt;typename std::remove_reference&lt;T&gt;::type</a>&gt;<a class="code" href="dom__exception_8cc.html#a413eab66b8192a2ac20583b419ab9d8a">::type</a>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">bool</span> ReturnPromise&gt;</div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1ThrowError.html">   81</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structshaka_1_1impl_1_1ThrowError.html">ThrowError</a> {</div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1ThrowError.html#aeb598dbbc268a3817e2cfc8dc7e5f263">   82</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="structshaka_1_1impl_1_1ThrowError.html#aeb598dbbc268a3817e2cfc8dc7e5f263">kBufferSize</a> = 4096;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1ThrowError.html#af79586c1bb0a70bc7c9f0c0d69a347db">   84</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structshaka_1_1impl_1_1ThrowError.html#af79586c1bb0a70bc7c9f0c0d69a347db">IllegalInvocation</a>(<span class="keyword">const</span> CallbackArguments* args,</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                                <span class="keyword">const</span> std::string&amp; func_name,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                                <span class="keyword">const</span> std::string&amp; target_name) {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structshaka_1_1impl_1_1ThrowError.html#a6d4884f6cf430517082941a11bb2d5ab">General</a>(args, func_name, target_name, <span class="stringliteral">&quot;Illegal invocation&quot;</span>);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  }</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1ThrowError.html#a7f82f51db43dec42aab2abb26b2fdcbf">   90</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structshaka_1_1impl_1_1ThrowError.html#a7f82f51db43dec42aab2abb26b2fdcbf">NotEnoughArgs</a>(<span class="keyword">const</span> CallbackArguments* args,</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                            <span class="keyword">const</span> std::string&amp; <a class="code" href="dom__exception_8cc.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="keyword">const</span> std::string&amp; target,</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                            <span class="keywordtype">size_t</span> required, <span class="keywordtype">size_t</span> given) {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    constexpr <span class="keyword">const</span> <span class="keywordtype">char</span>* kFormat =</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="stringliteral">&quot;%zu arguments required, but only %zu present.&quot;</span>;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keyword">const</span> std::string buffer = <a class="code" href="namespaceshaka_1_1util.html#a81567ca9dd39a14c52e63231b206e195">util::StringPrintf</a>(kFormat, required, given);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structshaka_1_1impl_1_1ThrowError.html#a6d4884f6cf430517082941a11bb2d5ab">General</a>(args, name, target, buffer);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  }</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1ThrowError.html#a18365fa554d620cf87f06e18834b1fbe">   99</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structshaka_1_1impl_1_1ThrowError.html#a18365fa554d620cf87f06e18834b1fbe">CannotConvert</a>(<span class="keyword">const</span> CallbackArguments* args,</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                            <span class="keyword">const</span> std::string&amp; <a class="code" href="dom__exception_8cc.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <span class="keyword">const</span> std::string&amp; target,</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                            <span class="keyword">const</span> std::string&amp; given,</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                            <span class="keyword">const</span> std::string&amp; required) {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    constexpr <span class="keyword">const</span> <span class="keywordtype">char</span>* kFormat = <span class="stringliteral">&quot;Cannot convert &#39;%s&#39; to &#39;%s&#39;.&quot;</span>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keyword">const</span> std::string buffer =</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <a class="code" href="namespaceshaka_1_1util.html#a81567ca9dd39a14c52e63231b206e195">util::StringPrintf</a>(kFormat, given.c_str(), required.c_str());</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structshaka_1_1impl_1_1ThrowError.html#a6d4884f6cf430517082941a11bb2d5ab">General</a>(args, name, target, buffer);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  }</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1ThrowError.html#a6d4884f6cf430517082941a11bb2d5ab">  109</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structshaka_1_1impl_1_1ThrowError.html#a6d4884f6cf430517082941a11bb2d5ab">General</a>(<span class="keyword">const</span> CallbackArguments* args, <span class="keyword">const</span> std::string&amp; <a class="code" href="dom__exception_8cc.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                      <span class="keyword">const</span> std::string&amp; target, <span class="keyword">const</span> std::string&amp; <a class="code" href="dom__exception_8cc.html#a254bf0858da09c96a48daf64404eb4f8">message</a>) {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    constexpr <span class="keyword">const</span> <span class="keywordtype">char</span>* kFormat = <span class="stringliteral">&quot;Failed to execute &#39;%s&#39; on &#39;%s&#39;: %s&quot;</span>;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keyword">const</span> std::string buffer = <a class="code" href="namespaceshaka_1_1util.html#a81567ca9dd39a14c52e63231b206e195">util::StringPrintf</a>(</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        kFormat, name.c_str(), target.c_str(), message.c_str());</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structshaka_1_1impl_1_1ThrowError.html#a80db412ed3cc64209c21fad17d41ac1b">Raw</a>(args, <a class="code" href="classshaka_1_1js_1_1JsError.html#a3a0d3cca8eff95d08d9cdaf0436e1ee5">js::JsError::TypeError</a>(buffer));</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1ThrowError.html#a80db412ed3cc64209c21fad17d41ac1b">  117</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structshaka_1_1impl_1_1ThrowError.html#a80db412ed3cc64209c21fad17d41ac1b">Raw</a>(<span class="keyword">const</span> CallbackArguments* args, <span class="keyword">const</span> <a class="code" href="classshaka_1_1js_1_1JsError.html">js::JsError</a>&amp; value) {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">if</span> (ReturnPromise) {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      <a class="code" href="classshaka_1_1Promise.html">Promise</a> ret = <a class="code" href="classshaka_1_1Promise.html#ae4732fb199ecfee7bf5ee02644558dd2">Promise::Rejected</a>(value);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      SET_RETURN_VALUE(*args, ret.<a class="code" href="classshaka_1_1Promise.html#a87aaffb5bc9599b1041350e03333229c">ToJsValue</a>());</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    }</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    LocalVar&lt;JsValue&gt; except = value.<a class="code" href="classshaka_1_1js_1_1JsError.html#aa36918ba5dd5458855cbd358e98afacc">error</a>();</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    SET_EXCEPTION(*args, except);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;};</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespaceshaka_1_1impl.html#a5b8e991df1fc20e7fdb13025daccc06f">ConstructWrapperObject</a>(<span class="keyword">const</span> CallbackArguments&amp; arguments,</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                            <a class="code" href="classshaka_1_1BackingObject.html">BackingObject</a>* that);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Ret&gt;</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1HandleSetReturn.html">  151</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structshaka_1_1impl_1_1HandleSetReturn.html">HandleSetReturn</a> {</div><div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1HandleSetReturn.html#adebe4dabf99ea3882f35979bdf830b4a">  152</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structshaka_1_1impl_1_1HandleSetReturn.html#adebe4dabf99ea3882f35979bdf830b4a">SetReturn</a>(<span class="keyword">const</span> CallbackArguments&amp; arguments, <span class="keyword">const</span> Ret&amp; ret) {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    SET_RETURN_VALUE(arguments, <a class="code" href="namespaceshaka.html#abfc907a0bc00a433c876205654b41200">ToJsValue</a>(ret));</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;};</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="keyword">template</span> &lt;&gt;</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1HandleSetReturn_3_01ExceptionOr_3_01void_01_4_01_4.html">  158</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structshaka_1_1impl_1_1HandleSetReturn.html">HandleSetReturn</a>&lt;<a class="code" href="structshaka_1_1ExceptionOr.html">ExceptionOr</a>&lt;void&gt;&gt; {</div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1HandleSetReturn_3_01ExceptionOr_3_01void_01_4_01_4.html#a25ecd2250dc28685c26bf66705421fa6">  159</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structshaka_1_1impl_1_1HandleSetReturn_3_01ExceptionOr_3_01void_01_4_01_4.html#a25ecd2250dc28685c26bf66705421fa6">SetReturn</a>(<span class="keyword">const</span> CallbackArguments&amp; arguments,</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                        <span class="keyword">const</span> <a class="code" href="structshaka_1_1ExceptionOr_3_01void_01_4.html">ExceptionOr&lt;void&gt;</a>&amp; ret) {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">if</span> (holds_alternative&lt;js::JsError&gt;(ret)) {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      LocalVar&lt;JsValue&gt; except = get&lt;js::JsError&gt;(ret).error();</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      SET_EXCEPTION(arguments, except);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;};</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1HandleSetReturn_3_01ExceptionOr_3_01T_01_4_01_4.html">  170</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structshaka_1_1impl_1_1HandleSetReturn.html">HandleSetReturn</a>&lt;<a class="code" href="structshaka_1_1ExceptionOr.html">ExceptionOr</a>&lt;T&gt;&gt; {</div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1HandleSetReturn_3_01ExceptionOr_3_01T_01_4_01_4.html#a3128ab80d10e0de6deb3bc581315beeb">  171</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structshaka_1_1impl_1_1HandleSetReturn_3_01ExceptionOr_3_01T_01_4_01_4.html#a3128ab80d10e0de6deb3bc581315beeb">SetReturn</a>(<span class="keyword">const</span> CallbackArguments&amp; arguments,</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                        <span class="keyword">const</span> <a class="code" href="structshaka_1_1ExceptionOr.html">ExceptionOr&lt;T&gt;</a>&amp; ret) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">if</span> (holds_alternative&lt;T&gt;(ret)) {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      SET_RETURN_VALUE(arguments, <a class="code" href="namespaceshaka.html#abfc907a0bc00a433c876205654b41200">ToJsValue</a>(get&lt;T&gt;(ret)));</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      LocalVar&lt;JsValue&gt; except = get&lt;js::JsError&gt;(ret).error();</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      SET_EXCEPTION(arguments, except);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;};</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Ret&gt;</div><div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1CallAndSetReturn.html">  190</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structshaka_1_1impl_1_1CallAndSetReturn.html">CallAndSetReturn</a> {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Func, <span class="keyword">typename</span>... Args&gt;</div><div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1CallAndSetReturn.html#a06cee7e58124350827eedf234f3ba0b6">  192</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structshaka_1_1impl_1_1CallAndSetReturn.html#a06cee7e58124350827eedf234f3ba0b6">Call</a>(<span class="keyword">const</span> CallbackArguments&amp; arguments, Func callback,</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                   Args&amp;&amp;... args) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    static_assert(!std::is_rvalue_reference&lt;Ret&gt;::value,</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                  <span class="stringliteral">&quot;Cannot return an rvalue reference.&quot;</span>);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    Ret ret = callback(std::forward&lt;Args&gt;(args)...);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structshaka_1_1impl_1_1HandleSetReturn.html#adebe4dabf99ea3882f35979bdf830b4a">HandleSetReturn&lt;Ret&gt;::SetReturn</a>(arguments, ret);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;};</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="keyword">template</span> &lt;&gt;</div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1CallAndSetReturn_3_01void_01_4.html">  201</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structshaka_1_1impl_1_1CallAndSetReturn.html">CallAndSetReturn</a>&lt;void&gt; {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Func, <span class="keyword">typename</span>... Args&gt;</div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1CallAndSetReturn_3_01void_01_4.html#af5868059e7cae232088e344de34bd017">  203</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structshaka_1_1impl_1_1CallAndSetReturn_3_01void_01_4.html#af5868059e7cae232088e344de34bd017">Call</a>(<span class="keyword">const</span> CallbackArguments&amp; arguments, Func callback,</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                   Args&amp;&amp;... args) {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    callback(std::forward&lt;Args&gt;(args)...);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;};</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">// Iterative case.</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> ArgIndex, <span class="keywordtype">size_t</span> ArgCount&gt;</div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1CallHelper.html">  213</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structshaka_1_1impl_1_1CallHelper.html">CallHelper</a> {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Func, <span class="keyword">typename</span>... GivenArgs&gt;</div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1CallHelper.html#afb201435e803b86fc77ab19b42d1cea7">  215</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structshaka_1_1impl_1_1CallHelper.html#afb201435e803b86fc77ab19b42d1cea7">ConvertAndCallFunction</a>(<span class="keyword">const</span> std::string&amp; func_name,</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                                     <span class="keyword">const</span> std::string&amp; target_name,</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                                     <span class="keywordtype">bool</span> is_member_func,</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                                     <span class="keyword">const</span> CallbackArguments&amp; arguments,</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                                     Func&amp;&amp; callback, GivenArgs&amp;&amp;... args) {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keyword">using</span> CurType =</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keyword">typename</span> <a class="code" href="structshaka_1_1util_1_1func__traits.html">util::func_traits&lt;Func&gt;::template</a> argument_type&lt;ArgIndex&gt;;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">return</span> Helper&lt;CurType&gt;::ConvertAndCallFunction(</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        func_name, target_name, is_member_func, arguments,</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        std::forward&lt;Func&gt;(callback), std::forward&lt;GivenArgs&gt;(args)...);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> CurType, <span class="keyword">typename</span> = <span class="keywordtype">void</span>&gt;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keyword">struct </span>Helper {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Func, <span class="keyword">typename</span>... GivenArgs&gt;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> ConvertAndCallFunction(<span class="keyword">const</span> std::string&amp; func_name,</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                                       <span class="keyword">const</span> std::string&amp; target_name,</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                       <span class="keywordtype">bool</span> is_member_func,</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                                       <span class="keyword">const</span> CallbackArguments&amp; arguments,</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                       Func&amp;&amp; callback,</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                                       GivenArgs&amp;&amp;... args) {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <span class="keyword">using</span> Ret = <span class="keyword">typename</span> <a class="code" href="structshaka_1_1util_1_1func__traits.html">util::func_traits&lt;Func&gt;::return_type</a>;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <a class="code" href="namespaceshaka_1_1impl.html#ae6267ff59607be3e3b48f714923eb3d8">RawType&lt;CurType&gt;</a> arg;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespaceshaka.html#ad932cc0f01f73f28e58c11f4a6e1a209">ArgumentCount</a>(arguments) + is_member_func &lt;= ArgIndex) {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="structshaka_1_1is__optional.html">is_optional</a>&lt;<a class="code" href="namespaceshaka_1_1impl.html#ae6267ff59607be3e3b48f714923eb3d8">RawType&lt;CurType&gt;</a>&gt;::value) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">size_t</span> arg_count = <a class="code" href="structshaka_1_1util_1_1func__traits.html">util::func_traits&lt;Func&gt;::argument_count</a>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="structshaka_1_1impl_1_1ThrowError.html">ThrowError&lt;std::is_same&lt;Ret, Promise&gt;::value</a>&gt;<a class="code" href="structshaka_1_1impl_1_1ThrowError.html#a7f82f51db43dec42aab2abb26b2fdcbf">::NotEnoughArgs</a>(</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;              &amp;arguments, func_name, target_name, arg_count,</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;              <a class="code" href="namespaceshaka.html#ad932cc0f01f73f28e58c11f4a6e1a209">ArgumentCount</a>(arguments));</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        }</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="comment">// Only convert the argument if it is present.  A missing argument</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="comment">// should always be Nothing even if we can convert undefined to a value.</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        LocalVar&lt;JsValue&gt; <a class="code" href="media__utils_8cc.html#af2ed45b90afa2ef4ec6e09625335a082">source</a> = is_member_func &amp;&amp; ArgIndex == 0</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                                       ? GET_ARG_THIS(arguments)</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                                       : arguments[ArgIndex - is_member_func];</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespaceshaka.html#a2e500a5018e70fc70f81b86869b3b41c">FromJsValue</a>(source, &amp;arg)) {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;          <span class="keyword">const</span> std::string type_name = <a class="code" href="structshaka_1_1TypeName.html">TypeName&lt;RawType&lt;CurType&gt;</a>&gt;<a class="code" href="dom__exception_8cc.html#a8f8f80d37794cde9472343e4487ba3eb">::name</a>();</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;          <span class="keyword">const</span> std::string value = <a class="code" href="namespaceshaka.html#a8ca499b1abbf5e50465a975171493c40">ConvertToString</a>(source);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="structshaka_1_1impl_1_1ThrowError.html">ThrowError&lt;std::is_same&lt;Ret, Promise&gt;::value</a>&gt;<a class="code" href="structshaka_1_1impl_1_1ThrowError.html#a18365fa554d620cf87f06e18834b1fbe">::CannotConvert</a>(</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;              &amp;arguments, func_name, target_name, value, type_name);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        }</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structshaka_1_1impl_1_1CallHelper.html#afb201435e803b86fc77ab19b42d1cea7">CallHelper&lt;ArgIndex + 1, ArgCount&gt;::ConvertAndCallFunction</a>(</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;          func_name, target_name, is_member_func, arguments,</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;          std::forward&lt;Func&gt;(callback), std::forward&lt;GivenArgs&gt;(args)...,</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;          std::move(arg));</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  };</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="comment">// Special case for CallbackArguments.</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keyword">struct </span>Helper&lt;const CallbackArguments&amp;, T&gt; {</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    static_assert(ArgIndex + 1 == ArgCount,</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                  <span class="stringliteral">&quot;CallbackArguments must appear last&quot;</span>);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Func, <span class="keyword">typename</span>... GivenArgs&gt;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> ConvertAndCallFunction(<span class="keyword">const</span> std::string&amp; func_name,</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                                       <span class="keyword">const</span> std::string&amp; target_name,</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                                       <span class="keywordtype">bool</span> is_member_func,</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                                       <span class="keyword">const</span> CallbackArguments&amp; arguments,</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                                       Func&amp;&amp; callback,</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                                       GivenArgs&amp;&amp;... args) {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structshaka_1_1impl_1_1CallHelper.html#afb201435e803b86fc77ab19b42d1cea7">CallHelper&lt;ArgIndex + 1, ArgCount&gt;::ConvertAndCallFunction</a>(</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;          func_name, target_name, is_member_func, arguments,</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;          std::forward&lt;Func&gt;(callback), std::forward&lt;GivenArgs&gt;(args)...,</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;          arguments);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  };</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;};</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">// Base-case.</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> ArgCount&gt;</div><div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1CallHelper_3_01ArgCount_00_01ArgCount_01_4.html">  288</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structshaka_1_1impl_1_1CallHelper.html">CallHelper</a>&lt;ArgCount, ArgCount&gt; {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Func, <span class="keyword">typename</span>... GivenArgs&gt;</div><div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1CallHelper_3_01ArgCount_00_01ArgCount_01_4.html#a10c9688d8c9c79a60facd23dc56a7dd7">  290</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structshaka_1_1impl_1_1CallHelper_3_01ArgCount_00_01ArgCount_01_4.html#a10c9688d8c9c79a60facd23dc56a7dd7">ConvertAndCallFunction</a>(<span class="keyword">const</span> std::string&amp; func_name,</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                                     <span class="keyword">const</span> std::string&amp; target_name,</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                                     <span class="keywordtype">bool</span> is_member_func,</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                                     <span class="keyword">const</span> CallbackArguments&amp; arguments,</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                                     Func&amp;&amp; callback, GivenArgs&amp;&amp;... args) {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keyword">using</span> Ret = <span class="keyword">typename</span> <a class="code" href="structshaka_1_1util_1_1func__traits.html">util::func_traits&lt;Func&gt;::return_type</a>;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structshaka_1_1impl_1_1CallAndSetReturn.html#a06cee7e58124350827eedf234f3ba0b6">CallAndSetReturn&lt;Ret&gt;::Call</a>(arguments, std::forward&lt;Func&gt;(callback),</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                                       std::forward&lt;GivenArgs&gt;(args)...);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;};</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">// Contains extra data passed to registered methods to help call the correct</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">// backing methods.</span></div><div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1InternalCallbackDataBase.html">  304</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structshaka_1_1impl_1_1InternalCallbackDataBase.html">InternalCallbackDataBase</a> {</div><div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1InternalCallbackDataBase.html#a7e74f292efab279cc3e49aaae8e7f8c3">  305</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="structshaka_1_1impl_1_1InternalCallbackDataBase.html#a7e74f292efab279cc3e49aaae8e7f8c3">~InternalCallbackDataBase</a>() {}</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;};</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Func&gt;</div><div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1InternalCallbackData.html">  309</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structshaka_1_1impl_1_1InternalCallbackData.html">InternalCallbackData</a> : <a class="code" href="structshaka_1_1impl_1_1InternalCallbackDataBase.html">InternalCallbackDataBase</a> {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1InternalCallbackData.html#ab16475ac30be71c0b798d46db6371e4b">  311</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="structshaka_1_1impl_1_1InternalCallbackData.html#ab16475ac30be71c0b798d46db6371e4b">InternalCallbackData</a>(T&amp;&amp; arg) : callback(<a class="code" href="namespacestd.html">std</a>::forward&lt;T&gt;(arg)) {}</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1InternalCallbackData.html#a7a5b5d9076d93f165fd627867741cf74">  313</a></span>&#160;  <span class="keyword">typename</span> <a class="code" href="dom__exception_8cc.html#a413eab66b8192a2ac20583b419ab9d8a">std::decay&lt;Func&gt;::type</a> <a class="code" href="structshaka_1_1impl_1_1InternalCallbackData.html#a7a5b5d9076d93f165fd627867741cf74">callback</a>;</div><div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1InternalCallbackData.html#a81817615cfa4dd0ed2aca66fdf86f9bc">  314</a></span>&#160;  std::string <a class="code" href="structshaka_1_1impl_1_1InternalCallbackData.html#a81817615cfa4dd0ed2aca66fdf86f9bc">name</a>;</div><div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1InternalCallbackData.html#a627ffc0e34aa6653b05640e6620e0535">  315</a></span>&#160;  std::string <a class="code" href="structshaka_1_1impl_1_1InternalCallbackData.html#a627ffc0e34aa6653b05640e6620e0535">target</a>;</div><div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1InternalCallbackData.html#a7c7898683c2d71e2e3ef6ba62bee43e6">  316</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structshaka_1_1impl_1_1InternalCallbackData.html#a7c7898683c2d71e2e3ef6ba62bee43e6">is_member_func</a>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;};</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="namespaceshaka_1_1impl.html#a98718422b897a4e04c0d2dcc8793bb1f">  319</a></span>&#160;constexpr <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceshaka_1_1impl.html#a98718422b897a4e04c0d2dcc8793bb1f">kHiddenPropertyName</a> = <span class="stringliteral">&quot;$__shaka_extra_data&quot;</span>;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="preprocessor">#if defined(USING_JSC)</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> InternalCallbackDataFinalize(JSObjectRef <span class="keywordtype">object</span>) {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="keywordtype">void</span>* ptr = JSObjectGetPrivate(<span class="keywordtype">object</span>);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keyword">delete</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="structshaka_1_1impl_1_1InternalCallbackDataBase.html">InternalCallbackDataBase</a>*<span class="keyword">&gt;</span>(ptr);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;}</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="keyword">const</span> JSClassDefinition kInternalCallbackDataDefinition = {</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    .version = 1,</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    .className = <span class="stringliteral">&quot;InternalCallbackData&quot;</span>,</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    .finalize = &amp;InternalCallbackDataFinalize,</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;};</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="keyword">inline</span> JSClassRef GetCallbackDataClass() {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="keyword">static</span> JSClassRef cls = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordflow">if</span> (!cls) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    CHECK(cls = JSClassCreate(&amp;kInternalCallbackDataDefinition));</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordflow">return</span> cls;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Arg&gt;</div><div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="namespaceshaka_1_1impl.html#aa0c5736bd75149c5f814efd0b5e9506c">  351</a></span>&#160;ReturnVal&lt;JsValue&gt; <a class="code" href="namespaceshaka_1_1impl.html#aa0c5736bd75149c5f814efd0b5e9506c">CreateInternalData</a>(T** extra_data, Arg&amp;&amp; arg) {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="preprocessor">#ifdef USING_V8</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  v8::Local&lt;v8::ArrayBuffer&gt; ret =</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      v8::ArrayBuffer::New(<a class="code" href="namespaceshaka.html#ae350ecab2884489334bd02dd12f23bf7">GetIsolate</a>(), <span class="keyword">sizeof</span>(T));</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="keywordtype">void</span>* ptr = ret-&gt;GetContents().Data();</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  *extra_data = <span class="keyword">new</span> (ptr) T(std::forward&lt;Arg&gt;(arg));</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="comment">// Sanity check: verify the new object pointer is at the start of the data.</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  DCHECK_EQ(reinterpret_cast&lt;void*&gt;(*extra_data), ptr);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <a class="code" href="classshaka_1_1PseudoSingleton.html#acc4530aa66dc6eef8bc80ddc78cde884">JsEngine::Instance</a>()-&gt;AddDestructor(ptr, [](<span class="keywordtype">void</span>* obj) {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keyword">reinterpret_cast&lt;</span>T*<span class="keyword">&gt;</span>(obj)-&gt;~T();</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  });</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="preprocessor">#elif defined(USING_JSC)</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  *extra_data = <span class="keyword">new</span> T(std::forward&lt;Arg&gt;(arg));</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="comment">// IMPORTANT: We need to cast since the argument is a void*.  The finalize</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="comment">// method will cast to this type, so the static_cast ensures we pass the</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="comment">// correct sub-object pointer.</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  LocalVar&lt;JsObject&gt; ret =</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      JSObjectMake(<a class="code" href="namespaceshaka.html#adce55cd7ecb3df56198e6c55d6c74c87">GetContext</a>(), GetCallbackDataClass(),</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                   static_cast&lt;InternalCallbackDataBase*&gt;(*extra_data));</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  CHECK(ret);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;}</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="preprocessor">#ifdef USING_V8</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Info&gt;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;T* GetInternalData(<span class="keyword">const</span> Info&amp; arguments) {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="keywordflow">if</span> (arguments.Data().IsEmpty() || !arguments.Data()-&gt;IsArrayBuffer()) {</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <a class="code" href="structshaka_1_1impl_1_1ThrowError.html">ThrowError</a>&lt;<span class="comment">/* ReturnPromise */</span> <span class="keyword">false</span>&gt;<a class="code" href="structshaka_1_1impl_1_1ThrowError.html#a6d4884f6cf430517082941a11bb2d5ab">::General</a>(</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;INTERNAL: Invalid function data.&quot;</span>);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  v8::Local&lt;v8::ArrayBuffer&gt; extra =</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      arguments.Data().template As&lt;v8::ArrayBuffer&gt;();</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>T*<span class="keyword">&gt;</span>(extra-&gt;GetContents().Data());</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;}</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="preprocessor">#elif defined(USING_JSC)</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;T* GetInternalData(<span class="keyword">const</span> CallbackArguments&amp; arguments) {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  JSValueRef data = <a class="code" href="namespaceshaka.html#a3f28a8c188857613b5945adf20064e2f">GetMemberRaw</a>(arguments.callee(), <a class="code" href="namespaceshaka_1_1impl.html#a98718422b897a4e04c0d2dcc8793bb1f">kHiddenPropertyName</a>);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordtype">void</span>* ptr = <a class="code" href="namespaceshaka.html#a73e39f67965396a70475f7c3d70c4af7">IsObject</a>(data) ? JSObjectGetPrivate(UnsafeJsCast&lt;JsObject&gt;(data))</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                             : <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="keywordflow">if</span> (!ptr) {</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <a class="code" href="structshaka_1_1impl_1_1ThrowError.html">ThrowError</a>&lt;<span class="comment">/* ReturnPromise */</span> <span class="keyword">false</span>&gt;<a class="code" href="structshaka_1_1impl_1_1ThrowError.html#a6d4884f6cf430517082941a11bb2d5ab">::General</a>(</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;INTERNAL: Invalid function data.&quot;</span>);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>T*<span class="keyword">&gt;</span>(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="structshaka_1_1impl_1_1InternalCallbackDataBase.html">InternalCallbackDataBase</a>*<span class="keyword">&gt;</span>(ptr));</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;}</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Func&gt;</div><div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="classshaka_1_1impl_1_1JsCallback.html">  417</a></span>&#160;<span class="keyword">class </span><a class="code" href="classshaka_1_1impl_1_1JsCallback.html">JsCallback</a> {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="preprocessor">#if defined(USING_V8)</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> Call(<span class="keyword">const</span> CallbackArguments&amp; arguments) {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    v8::HandleScope handle_scope(<a class="code" href="namespaceshaka.html#ae350ecab2884489334bd02dd12f23bf7">GetIsolate</a>());</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    CallRaw(arguments);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  }</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="preprocessor">#elif defined(USING_JSC)</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keyword">static</span> JSValueRef Call(JSContextRef cx, JSObjectRef callee,</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                         JSObjectRef thisv, <span class="keywordtype">size_t</span> arg_count,</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                         <span class="keyword">const</span> JSValueRef* args, JSValueRef* except) {</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="comment">// TODO(modmaker): Why is this not true?  Should we force use of cx?</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">// DCHECK_EQ(cx, GetContext());</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    DCHECK(except);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    CallbackArguments arguments(args, arg_count, callee, thisv, except);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">if</span> (!CallRaw(arguments))</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">return</span> arguments.ret();</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> CallRaw(<span class="keyword">const</span> CallbackArguments&amp; arguments) {</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keyword">auto</span> data = GetInternalData&lt;InternalCallbackData&lt;Func&gt;&gt;(arguments);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">if</span> (!data)</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    constexpr <span class="keyword">const</span> <span class="keywordtype">size_t</span> ArgCount = <a class="code" href="structshaka_1_1util_1_1func__traits.html">util::func_traits&lt;Func&gt;::argument_count</a>;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structshaka_1_1impl_1_1CallHelper.html#afb201435e803b86fc77ab19b42d1cea7">CallHelper&lt;0, ArgCount&gt;::ConvertAndCallFunction</a>(</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        data-&gt;name, data-&gt;target, data-&gt;is_member_func, arguments,</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        data-&gt;callback);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  }</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;};</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> This, <span class="keyword">typename</span> = <span class="keywordtype">void</span>&gt;</div><div class="line"><a name="l00458"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1get__create__type.html">  458</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structshaka_1_1impl_1_1get__create__type.html">get_create_type</a> {</div><div class="line"><a name="l00459"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1get__create__type.html#abefd4d6ce55434434e1ac6f69819320f">  459</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structshaka_1_1impl_1_1get__create__type.html#abefd4d6ce55434434e1ac6f69819320f">type</a> = void;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;};</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> This&gt;</div><div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1get__create__type_3_01This_00_01decltype_07void_07_6This_1_1Create_08_08_4.html">  462</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structshaka_1_1impl_1_1get__create__type.html">get_create_type</a>&lt;This, decltype(void(&amp;This::Create))&gt; {</div><div class="line"><a name="l00463"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1get__create__type_3_01This_00_01decltype_07void_07_6This_1_1Create_08_08_4.html#a6c14eb57a87d52c94b2c0d1726d10a45">  463</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structshaka_1_1impl_1_1get__create__type_3_01This_00_01decltype_07void_07_6This_1_1Create_08_08_4.html#a6c14eb57a87d52c94b2c0d1726d10a45">type</a> = decltype(&amp;This::Create);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;};</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<a class="code" href="dom__exception_8cc.html#a413eab66b8192a2ac20583b419ab9d8a">template &lt;typename This, typename Create = typename get_create_type&lt;This&gt;::type</a>&gt;</div><div class="line"><a name="l00474"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1JsConstructorCreateOrThrow.html">  474</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structshaka_1_1impl_1_1JsConstructorCreateOrThrow.html">JsConstructorCreateOrThrow</a>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> This&gt;</div><div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1JsConstructorCreateOrThrow_3_01This_00_01void_01_4.html">  476</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structshaka_1_1impl_1_1JsConstructorCreateOrThrow.html">JsConstructorCreateOrThrow</a>&lt;This, void&gt; {</div><div class="line"><a name="l00477"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1JsConstructorCreateOrThrow_3_01This_00_01void_01_4.html#a0f3942ff3f0913bb7254066ed0e26fe9">  477</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structshaka_1_1impl_1_1JsConstructorCreateOrThrow_3_01This_00_01void_01_4.html#a0f3942ff3f0913bb7254066ed0e26fe9">CreateOrThrow</a>(<span class="keyword">const</span> CallbackArguments&amp; arguments) {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="comment">// There is no Create method.</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keyword">const</span> std::string type_name = <a class="code" href="structshaka_1_1TypeName.html#a99761e1f0193bfe72f5e3a13a8e92973">TypeName&lt;This&gt;::name</a>();</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structshaka_1_1impl_1_1ThrowError.html">ThrowError</a>&lt;<span class="comment">/* ReturnPromise */</span> <span class="keyword">false</span>&gt;<a class="code" href="structshaka_1_1impl_1_1ThrowError.html#af79586c1bb0a70bc7c9f0c0d69a347db">::IllegalInvocation</a>(</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;constructor&quot;</span>, type_name);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  }</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;};</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> This, <span class="keyword">typename</span>... Args&gt;</div><div class="line"><a name="l00485"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1JsConstructorCreateOrThrow_3_01This_00_01This_01_5_07_5_08_07Args_8_8_8_08_4.html">  485</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structshaka_1_1impl_1_1JsConstructorCreateOrThrow.html">JsConstructorCreateOrThrow</a>&lt;This, This*(*)(Args...)&gt; {</div><div class="line"><a name="l00486"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1JsConstructorCreateOrThrow_3_01This_00_01This_01_5_07_5_08_07Args_8_8_8_08_4.html#a841766f52f5782b3a65bf521a861933d">  486</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structshaka_1_1impl_1_1JsConstructorCreateOrThrow_3_01This_00_01This_01_5_07_5_08_07Args_8_8_8_08_4.html#a841766f52f5782b3a65bf521a861933d">CreateOrThrow</a>(<span class="keyword">const</span> CallbackArguments&amp; arguments) {</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="comment">// There is a Create method.</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keyword">const</span> std::string type_name = <a class="code" href="structshaka_1_1TypeName.html#a99761e1f0193bfe72f5e3a13a8e92973">TypeName&lt;This&gt;::name</a>();</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keyword">auto</span> ctor = [&amp;](Args... args) {</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <a class="code" href="classshaka_1_1BackingObject.html">BackingObject</a>* backing = This::Create(std::forward&lt;Args&gt;(args)...);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      CHECK(<a class="code" href="namespaceshaka_1_1impl.html#a5b8e991df1fc20e7fdb13025daccc06f">ConstructWrapperObject</a>(arguments, backing));</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    };</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structshaka_1_1impl_1_1CallHelper.html">CallHelper</a>&lt;0, <span class="keyword">sizeof</span>...(Args)&gt;::ConvertAndCallFunction(</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="stringliteral">&quot;constructor&quot;</span>, type_name, <span class="keyword">false</span>, arguments, std::move(ctor));</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;};</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> This&gt;</div><div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="classshaka_1_1impl_1_1JsConstructor.html">  510</a></span>&#160;<span class="keyword">class </span><a class="code" href="classshaka_1_1impl_1_1JsConstructor.html">JsConstructor</a> {</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="preprocessor">#if defined(USING_V8)</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> Call(<span class="keyword">const</span> v8::FunctionCallbackInfo&lt;v8::Value&gt;&amp; arguments) {</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    v8::HandleScope handle_scope(<a class="code" href="namespaceshaka.html#ae350ecab2884489334bd02dd12f23bf7">GetIsolate</a>());</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_valid = !arguments.This().IsEmpty() &amp;&amp;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                          arguments.This()-&gt;InternalFieldCount() ==</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                              <a class="code" href="classshaka_1_1BackingObject.html#ade30a75e510f378d4508fa4b1b282895">BackingObject::kInternalFieldCount</a>;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    CallRaw(arguments, is_valid);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  }</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="preprocessor">#elif defined(USING_JSC)</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keyword">static</span> JSObjectRef Call(JSContextRef cx, JSObjectRef callee, <span class="keywordtype">size_t</span> arg_count,</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                          <span class="keyword">const</span> JSValueRef* args, JSValueRef* except) {</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="comment">// TODO(modmaker): Why is this not true?  Should we force use of cx?</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="comment">// DCHECK_EQ(cx, GetContext());</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    DCHECK(except);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    CallbackArguments arguments(args, arg_count, callee, <span class="keyword">nullptr</span>, except);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">if</span> (!CallRaw(arguments, <span class="keyword">true</span>))</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">return</span> UnsafeJsCast&lt;JsObject&gt;(arguments.ret());</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  }</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> CallRaw(<span class="keyword">const</span> CallbackArguments&amp; arguments, <span class="keywordtype">bool</span> is_valid) {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">if</span> (!is_valid) {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      <span class="keyword">const</span> std::string type_name = <a class="code" href="structshaka_1_1TypeName.html#a99761e1f0193bfe72f5e3a13a8e92973">TypeName&lt;This&gt;::name</a>();</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structshaka_1_1impl_1_1ThrowError.html">ThrowError</a>&lt;<span class="comment">/* ReturnPromise */</span> <span class="keyword">false</span>&gt;<a class="code" href="structshaka_1_1impl_1_1ThrowError.html#af79586c1bb0a70bc7c9f0c0d69a347db">::IllegalInvocation</a>(</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;          <span class="keyword">nullptr</span>, <span class="stringliteral">&quot;constructor&quot;</span>, type_name);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="comment">// Special case to wrap existing object.  Single object of type v8::External</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespaceshaka.html#ad932cc0f01f73f28e58c11f4a6e1a209">ArgumentCount</a>(arguments) == 1) {</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      <span class="keywordtype">void</span>* ptr = <a class="code" href="namespaceshaka.html#ac4682f9baf215e4253dc51f91bef4fa0">MaybeUnwrapPointer</a>(arguments[0]);</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      <span class="keywordflow">if</span> (ptr) {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="keyword">auto</span>* backing = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classshaka_1_1BackingObject.html">BackingObject</a>*<span class="keyword">&gt;</span>(ptr);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespaceshaka_1_1impl.html#a5b8e991df1fc20e7fdb13025daccc06f">ConstructWrapperObject</a>(arguments, backing);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      }</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    }</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structshaka_1_1impl_1_1JsConstructorCreateOrThrow.html">JsConstructorCreateOrThrow&lt;This&gt;::CreateOrThrow</a>(arguments);</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  }</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;};</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Func&gt;</div><div class="line"><a name="l00557"></a><span class="lineno"><a class="line" href="namespaceshaka_1_1impl.html#ad2181231efeabf88a7629d5fd6adc247">  557</a></span>&#160;ReturnVal&lt;JsFunction&gt; <a class="code" href="namespaceshaka_1_1impl.html#ad2181231efeabf88a7629d5fd6adc247">CreateJsFunctionFromCallback</a>(<span class="keyword">const</span> std::string&amp; target,</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                                                   <span class="keyword">const</span> std::string&amp; <a class="code" href="dom__exception_8cc.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                                                   Func&amp;&amp; callback,</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                                                   <span class="keywordtype">bool</span> is_member_func) {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <a class="code" href="structshaka_1_1impl_1_1InternalCallbackData.html">impl::InternalCallbackData&lt;Func&gt;</a>* data;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  LocalVar&lt;JsValue&gt; js_value =</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      <a class="code" href="namespaceshaka_1_1impl.html#aa0c5736bd75149c5f814efd0b5e9506c">impl::CreateInternalData</a>(&amp;data, std::forward&lt;Func&gt;(callback));</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="comment">// data-&gt;callback already set.</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  data-&gt;<a class="code" href="structshaka_1_1impl_1_1InternalCallbackData.html#a81817615cfa4dd0ed2aca66fdf86f9bc">name</a> = <a class="code" href="dom__exception_8cc.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  data-&gt;<a class="code" href="structshaka_1_1impl_1_1InternalCallbackData.html#a627ffc0e34aa6653b05640e6620e0535">target</a> = target;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  data-&gt;<a class="code" href="structshaka_1_1impl_1_1InternalCallbackData.html#a7c7898683c2d71e2e3ef6ba62bee43e6">is_member_func</a> = is_member_func;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="preprocessor">#ifdef USING_V8</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="keywordflow">return</span> v8::Function::New(<a class="code" href="namespaceshaka.html#ae350ecab2884489334bd02dd12f23bf7">GetIsolate</a>()-&gt;GetCurrentContext(),</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                           &amp;<a class="code" href="classshaka_1_1impl_1_1JsCallback.html">impl::JsCallback&lt;Func&gt;::Call</a>,</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                           js_value, <a class="code" href="structshaka_1_1util_1_1func__traits.html">util::func_traits&lt;Func&gt;::argument_count</a>,</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                           v8::ConstructorBehavior::kThrow).ToLocalChecked();</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="preprocessor">#elif defined(USING_JSC)</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  JSContextRef cx = <a class="code" href="namespaceshaka.html#adce55cd7ecb3df56198e6c55d6c74c87">GetContext</a>();</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  LocalVar&lt;JsObject&gt; ret =</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      JSObjectMakeFunctionWithCallback(cx, <a class="code" href="namespaceshaka.html#a0d7d5fdb3845c000258a55bc22db8575">JsStringFromUtf8</a>(name),</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                                       &amp;<a class="code" href="classshaka_1_1impl_1_1JsCallback.html">impl::JsCallback&lt;Func&gt;::Call</a>);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> attributes = kJSPropertyAttributeReadOnly |</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                         kJSPropertyAttributeDontEnum |</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                         kJSPropertyAttributeDontDelete;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  JSObjectSetProperty(cx, ret, <a class="code" href="namespaceshaka.html#a0d7d5fdb3845c000258a55bc22db8575">JsStringFromUtf8</a>(<a class="code" href="namespaceshaka_1_1impl.html#a98718422b897a4e04c0d2dcc8793bb1f">impl::kHiddenPropertyName</a>),</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                      js_value, attributes, <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;}</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;}  <span class="comment">// namespace impl</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Func&gt;</div><div class="line"><a name="l00604"></a><span class="lineno"><a class="line" href="namespaceshaka.html#af04b0713525c3a4c09efb6b628696b2d">  604</a></span>&#160;ReturnVal&lt;JsFunction&gt; <a class="code" href="namespaceshaka.html#af04b0713525c3a4c09efb6b628696b2d">CreateStaticFunction</a>(<span class="keyword">const</span> std::string&amp; target,</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                                           <span class="keyword">const</span> std::string&amp; <a class="code" href="dom__exception_8cc.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                                           Func&amp;&amp; callback) {</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespaceshaka_1_1impl.html#ad2181231efeabf88a7629d5fd6adc247">impl::CreateJsFunctionFromCallback</a>(</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      target, name, std::forward&lt;Func&gt;(callback), <span class="keyword">false</span>);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;}</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Func&gt;</div><div class="line"><a name="l00617"></a><span class="lineno"><a class="line" href="namespaceshaka.html#abdf3c72fe609bb86adafe8836b9cffe4">  617</a></span>&#160;ReturnVal&lt;JsFunction&gt; <a class="code" href="namespaceshaka.html#abdf3c72fe609bb86adafe8836b9cffe4">CreateMemberFunction</a>(<span class="keyword">const</span> std::string&amp; target,</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                                           <span class="keyword">const</span> std::string&amp; <a class="code" href="dom__exception_8cc.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                                           Func&amp;&amp; callback) {</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespaceshaka_1_1impl.html#ad2181231efeabf88a7629d5fd6adc247">impl::CreateJsFunctionFromCallback</a>(target, name,</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                                            std::forward&lt;Func&gt;(callback), <span class="keyword">true</span>);</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;}</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Func&gt;</div><div class="line"><a name="l00632"></a><span class="lineno"><a class="line" href="namespaceshaka.html#a3cdd6460cea64c521383a8aff8eedd36">  632</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespaceshaka.html#a3cdd6460cea64c521383a8aff8eedd36">RegisterGlobalFunction</a>(<span class="keyword">const</span> std::string&amp; <a class="code" href="dom__exception_8cc.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, Func&amp;&amp; callback) {</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  LocalVar&lt;JsFunction&gt; <span class="keyword">function</span> =</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      <a class="code" href="namespaceshaka.html#af04b0713525c3a4c09efb6b628696b2d">CreateStaticFunction</a>(<span class="stringliteral">&quot;window&quot;</span>, name, std::forward&lt;Func&gt;(callback));</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  LocalVar&lt;JsValue&gt; value(<a class="code" href="namespaceshaka.html#ab301085ee510544d7c8c7b63de1e626a">RawToJsValue</a>(<span class="keyword">function</span>));</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <a class="code" href="namespaceshaka.html#ada8d40961fa5d6cc6f080ee091dbc3d7">SetMemberRaw</a>(<a class="code" href="classshaka_1_1PseudoSingleton.html#acc4530aa66dc6eef8bc80ddc78cde884">JsEngine::Instance</a>()-&gt;global_handle(), name, value);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;}</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="keyword">namespace </span>impl {</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment">// Allow passing callable objects to JavaScript through ToJsValue().</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Func&gt;</div><div class="line"><a name="l00643"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1ConvertHelper_3_01Func_00_01__callable__identifier_01_4.html">  643</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structshaka_1_1impl_1_1ConvertHelper.html">ConvertHelper</a>&lt;Func, <a class="code" href="structshaka_1_1impl_1_1__callable__identifier.html">_callable_identifier</a>&gt; {</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00645"></a><span class="lineno"><a class="line" href="structshaka_1_1impl_1_1ConvertHelper_3_01Func_00_01__callable__identifier_01_4.html#a7b9a203767f32d59a6ca22d7f479cff8">  645</a></span>&#160;  <span class="keyword">static</span> ReturnVal&lt;JsValue&gt; <a class="code" href="structshaka_1_1impl_1_1ConvertHelper_3_01Func_00_01__callable__identifier_01_4.html#a7b9a203767f32d59a6ca22d7f479cff8">ToJsValue</a>(T&amp;&amp; <a class="code" href="media__utils_8cc.html#af2ed45b90afa2ef4ec6e09625335a082">source</a>) {</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keyword">auto</span> func = <a class="code" href="namespaceshaka.html#af04b0713525c3a4c09efb6b628696b2d">CreateStaticFunction</a>(<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, std::forward&lt;T&gt;(<a class="code" href="media__utils_8cc.html#af2ed45b90afa2ef4ec6e09625335a082">source</a>));</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceshaka.html#ab301085ee510544d7c8c7b63de1e626a">RawToJsValue</a>(func);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  }</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;};</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;}  <span class="comment">// namespace impl</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;}  <span class="comment">// namespace shaka</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="preprocessor">#endif  // SHAKA_EMBEDDED_MAPPING_REGISTER_MEMBER_H_</span></div><div class="ttc" id="structshaka_1_1impl_1_1HandleSetReturn_html_adebe4dabf99ea3882f35979bdf830b4a"><div class="ttname"><a href="structshaka_1_1impl_1_1HandleSetReturn.html#adebe4dabf99ea3882f35979bdf830b4a">shaka::impl::HandleSetReturn::SetReturn</a></div><div class="ttdeci">static bool SetReturn(const CallbackArguments &amp;arguments, const Ret &amp;ret)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00152">register_member.h:152</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1ThrowError_html_a7f82f51db43dec42aab2abb26b2fdcbf"><div class="ttname"><a href="structshaka_1_1impl_1_1ThrowError.html#a7f82f51db43dec42aab2abb26b2fdcbf">shaka::impl::ThrowError::NotEnoughArgs</a></div><div class="ttdeci">static bool NotEnoughArgs(const CallbackArguments *args, const std::string &amp;name, const std::string &amp;target, size_t required, size_t given)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00090">register_member.h:90</a></div></div>
<div class="ttc" id="structshaka_1_1ExceptionOr_html"><div class="ttname"><a href="structshaka_1_1ExceptionOr.html">shaka::ExceptionOr</a></div><div class="ttdef"><b>Definition:</b> <a href="exception__or_8h_source.html#l00036">exception_or.h:36</a></div></div>
<div class="ttc" id="namespaceshaka_html_af04b0713525c3a4c09efb6b628696b2d"><div class="ttname"><a href="namespaceshaka.html#af04b0713525c3a4c09efb6b628696b2d">shaka::CreateStaticFunction</a></div><div class="ttdeci">ReturnVal&lt; JsFunction &gt; CreateStaticFunction(const std::string &amp;target, const std::string &amp;name, Func &amp;&amp;callback)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00604">register_member.h:604</a></div></div>
<div class="ttc" id="templates_8h_html"><div class="ttname"><a href="templates_8h.html">templates.h</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1HandleSetReturn_3_01ExceptionOr_3_01void_01_4_01_4_html_a25ecd2250dc28685c26bf66705421fa6"><div class="ttname"><a href="structshaka_1_1impl_1_1HandleSetReturn_3_01ExceptionOr_3_01void_01_4_01_4.html#a25ecd2250dc28685c26bf66705421fa6">shaka::impl::HandleSetReturn&lt; ExceptionOr&lt; void &gt; &gt;::SetReturn</a></div><div class="ttdeci">static bool SetReturn(const CallbackArguments &amp;arguments, const ExceptionOr&lt; void &gt; &amp;ret)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00159">register_member.h:159</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1ConvertHelper_3_01Func_00_01__callable__identifier_01_4_html_a7b9a203767f32d59a6ca22d7f479cff8"><div class="ttname"><a href="structshaka_1_1impl_1_1ConvertHelper_3_01Func_00_01__callable__identifier_01_4.html#a7b9a203767f32d59a6ca22d7f479cff8">shaka::impl::ConvertHelper&lt; Func, _callable_identifier &gt;::ToJsValue</a></div><div class="ttdeci">static ReturnVal&lt; JsValue &gt; ToJsValue(T &amp;&amp;source)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00645">register_member.h:645</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1get__create__type_3_01This_00_01decltype_07void_07_6This_1_1Create_08_08_4_html_a6c14eb57a87d52c94b2c0d1726d10a45"><div class="ttname"><a href="structshaka_1_1impl_1_1get__create__type_3_01This_00_01decltype_07void_07_6This_1_1Create_08_08_4.html#a6c14eb57a87d52c94b2c0d1726d10a45">shaka::impl::get_create_type&lt; This, decltype(void(&amp;This::Create))&gt;::type</a></div><div class="ttdeci">decltype(&amp;This::Create) type</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00463">register_member.h:463</a></div></div>
<div class="ttc" id="namespaceshaka_html_a73e39f67965396a70475f7c3d70c4af7"><div class="ttname"><a href="namespaceshaka.html#a73e39f67965396a70475f7c3d70c4af7">shaka::IsObject</a></div><div class="ttdeci">bool IsObject(Handle&lt; JsValue &gt; value)</div><div class="ttdef"><b>Definition:</b> <a href="v8_2js__wrappers_8cc_source.html#l00315">js_wrappers.cc:315</a></div></div>
<div class="ttc" id="namespaceshaka_html_a2e500a5018e70fc70f81b86869b3b41c"><div class="ttname"><a href="namespaceshaka.html#a2e500a5018e70fc70f81b86869b3b41c">shaka::FromJsValue</a></div><div class="ttdeci">bool FromJsValue(Handle&lt; JsValue &gt; source, T *dest)</div><div class="ttdef"><b>Definition:</b> <a href="convert__js_8h_source.html#l00370">convert_js.h:370</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1get__create__type_html"><div class="ttname"><a href="structshaka_1_1impl_1_1get__create__type.html">shaka::impl::get_create_type</a></div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00458">register_member.h:458</a></div></div>
<div class="ttc" id="namespaceshaka_1_1util_html_a81567ca9dd39a14c52e63231b206e195"><div class="ttname"><a href="namespaceshaka_1_1util.html#a81567ca9dd39a14c52e63231b206e195">shaka::util::StringPrintf</a></div><div class="ttdeci">std::string StringPrintf(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="utils_8cc_source.html#l00049">utils.cc:49</a></div></div>
<div class="ttc" id="namespaceshaka_1_1impl_html_a5b8e991df1fc20e7fdb13025daccc06f"><div class="ttname"><a href="namespaceshaka_1_1impl.html#a5b8e991df1fc20e7fdb13025daccc06f">shaka::impl::ConstructWrapperObject</a></div><div class="ttdeci">bool ConstructWrapperObject(const CallbackArguments &amp;arguments, BackingObject *that)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8cc_source.html#l00023">register_member.cc:23</a></div></div>
<div class="ttc" id="namespaceshaka_html_ad932cc0f01f73f28e58c11f4a6e1a209"><div class="ttname"><a href="namespaceshaka.html#ad932cc0f01f73f28e58c11f4a6e1a209">shaka::ArgumentCount</a></div><div class="ttdeci">size_t ArgumentCount(const CallbackArguments &amp;arguments)</div><div class="ttdef"><b>Definition:</b> <a href="js__wrappers_8h_source.html#l00209">js_wrappers.h:209</a></div></div>
<div class="ttc" id="dom__exception_8cc_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="dom__exception_8cc.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="dom__exception_8cc_source.html#l00035">dom_exception.cc:35</a></div></div>
<div class="ttc" id="classshaka_1_1impl_1_1JsConstructor_html"><div class="ttname"><a href="classshaka_1_1impl_1_1JsConstructor.html">shaka::impl::JsConstructor</a></div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00510">register_member.h:510</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1InternalCallbackData_html_ab16475ac30be71c0b798d46db6371e4b"><div class="ttname"><a href="structshaka_1_1impl_1_1InternalCallbackData.html#ab16475ac30be71c0b798d46db6371e4b">shaka::impl::InternalCallbackData::InternalCallbackData</a></div><div class="ttdeci">InternalCallbackData(T &amp;&amp;arg)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00311">register_member.h:311</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> <a href="exception__code_8h_source.html#l00060">exception_code.h:60</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1CallAndSetReturn_3_01void_01_4_html_af5868059e7cae232088e344de34bd017"><div class="ttname"><a href="structshaka_1_1impl_1_1CallAndSetReturn_3_01void_01_4.html#af5868059e7cae232088e344de34bd017">shaka::impl::CallAndSetReturn&lt; void &gt;::Call</a></div><div class="ttdeci">static bool Call(const CallbackArguments &amp;arguments, Func callback, Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00203">register_member.h:203</a></div></div>
<div class="ttc" id="namespaceshaka_html_abfc907a0bc00a433c876205654b41200"><div class="ttname"><a href="namespaceshaka.html#abfc907a0bc00a433c876205654b41200">shaka::ToJsValue</a></div><div class="ttdeci">ReturnVal&lt; JsValue &gt; ToJsValue(T &amp;&amp;source)</div><div class="ttdef"><b>Definition:</b> <a href="convert__js_8h_source.html#l00381">convert_js.h:381</a></div></div>
<div class="ttc" id="namespaceshaka_1_1impl_html_ad2181231efeabf88a7629d5fd6adc247"><div class="ttname"><a href="namespaceshaka_1_1impl.html#ad2181231efeabf88a7629d5fd6adc247">shaka::impl::CreateJsFunctionFromCallback</a></div><div class="ttdeci">ReturnVal&lt; JsFunction &gt; CreateJsFunctionFromCallback(const std::string &amp;target, const std::string &amp;name, Func &amp;&amp;callback, bool is_member_func)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00557">register_member.h:557</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1JsConstructorCreateOrThrow_html"><div class="ttname"><a href="structshaka_1_1impl_1_1JsConstructorCreateOrThrow.html">shaka::impl::JsConstructorCreateOrThrow</a></div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00474">register_member.h:474</a></div></div>
<div class="ttc" id="media__utils_8cc_html_af2ed45b90afa2ef4ec6e09625335a082"><div class="ttname"><a href="media__utils_8cc.html#af2ed45b90afa2ef4ec6e09625335a082">source</a></div><div class="ttdeci">const char * source</div><div class="ttdef"><b>Definition:</b> <a href="media__utils_8cc_source.html#l00030">media_utils.cc:30</a></div></div>
<div class="ttc" id="structshaka_1_1is__optional_html"><div class="ttname"><a href="structshaka_1_1is__optional.html">shaka::is_optional</a></div><div class="ttdef"><b>Definition:</b> <a href="optional_8h_source.html#l00042">optional.h:42</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1ThrowError_html_a80db412ed3cc64209c21fad17d41ac1b"><div class="ttname"><a href="structshaka_1_1impl_1_1ThrowError.html#a80db412ed3cc64209c21fad17d41ac1b">shaka::impl::ThrowError::Raw</a></div><div class="ttdeci">static bool Raw(const CallbackArguments *args, const js::JsError &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00117">register_member.h:117</a></div></div>
<div class="ttc" id="namespaceshaka_html"><div class="ttname"><a href="namespaceshaka.html">shaka</a></div><div class="ttdef"><b>Definition:</b> <a href="async__results_8h_source.html#l00025">async_results.h:25</a></div></div>
<div class="ttc" id="classshaka_1_1Promise_html_a87aaffb5bc9599b1041350e03333229c"><div class="ttname"><a href="classshaka_1_1Promise.html#a87aaffb5bc9599b1041350e03333229c">shaka::Promise::ToJsValue</a></div><div class="ttdeci">ReturnVal&lt; JsValue &gt; ToJsValue() const override</div><div class="ttdef"><b>Definition:</b> <a href="promise_8cc_source.html#l00087">promise.cc:87</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1ThrowError_html_af79586c1bb0a70bc7c9f0c0d69a347db"><div class="ttname"><a href="structshaka_1_1impl_1_1ThrowError.html#af79586c1bb0a70bc7c9f0c0d69a347db">shaka::impl::ThrowError::IllegalInvocation</a></div><div class="ttdeci">static bool IllegalInvocation(const CallbackArguments *args, const std::string &amp;func_name, const std::string &amp;target_name)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00084">register_member.h:84</a></div></div>
<div class="ttc" id="namespaceshaka_1_1impl_html_a98718422b897a4e04c0d2dcc8793bb1f"><div class="ttname"><a href="namespaceshaka_1_1impl.html#a98718422b897a4e04c0d2dcc8793bb1f">shaka::impl::kHiddenPropertyName</a></div><div class="ttdeci">constexpr const char * kHiddenPropertyName</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00319">register_member.h:319</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1InternalCallbackDataBase_html"><div class="ttname"><a href="structshaka_1_1impl_1_1InternalCallbackDataBase.html">shaka::impl::InternalCallbackDataBase</a></div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00304">register_member.h:304</a></div></div>
<div class="ttc" id="namespaceshaka_1_1impl_html_aa0c5736bd75149c5f814efd0b5e9506c"><div class="ttname"><a href="namespaceshaka_1_1impl.html#aa0c5736bd75149c5f814efd0b5e9506c">shaka::impl::CreateInternalData</a></div><div class="ttdeci">ReturnVal&lt; JsValue &gt; CreateInternalData(T **extra_data, Arg &amp;&amp;arg)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00351">register_member.h:351</a></div></div>
<div class="ttc" id="namespaceshaka_html_ab301085ee510544d7c8c7b63de1e626a"><div class="ttname"><a href="namespaceshaka.html#ab301085ee510544d7c8c7b63de1e626a">shaka::RawToJsValue</a></div><div class="ttdeci">ReturnVal&lt; JsValue &gt; RawToJsValue(Handle&lt; T &gt; source)</div><div class="ttdef"><b>Definition:</b> <a href="js__wrappers_8h_source.html#l00405">js_wrappers.h:405</a></div></div>
<div class="ttc" id="js__wrappers_8h_html"><div class="ttname"><a href="js__wrappers_8h.html">js_wrappers.h</a></div></div>
<div class="ttc" id="dom__exception_8cc_html_a413eab66b8192a2ac20583b419ab9d8a"><div class="ttname"><a href="dom__exception_8cc.html#a413eab66b8192a2ac20583b419ab9d8a">type</a></div><div class="ttdeci">ExceptionCode type</div><div class="ttdef"><b>Definition:</b> <a href="dom__exception_8cc_source.html#l00037">dom_exception.cc:37</a></div></div>
<div class="ttc" id="structshaka_1_1util_1_1func__traits_html"><div class="ttname"><a href="structshaka_1_1util_1_1func__traits.html">shaka::util::func_traits</a></div><div class="ttdef"><b>Definition:</b> <a href="templates_8h_source.html#l00117">templates.h:117</a></div></div>
<div class="ttc" id="exception__or_8h_html"><div class="ttname"><a href="exception__or_8h.html">exception_or.h</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1InternalCallbackDataBase_html_a7e74f292efab279cc3e49aaae8e7f8c3"><div class="ttname"><a href="structshaka_1_1impl_1_1InternalCallbackDataBase.html#a7e74f292efab279cc3e49aaae8e7f8c3">shaka::impl::InternalCallbackDataBase::~InternalCallbackDataBase</a></div><div class="ttdeci">virtual ~InternalCallbackDataBase()</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00305">register_member.h:305</a></div></div>
<div class="ttc" id="js__engine_8h_html"><div class="ttname"><a href="js__engine_8h.html">js_engine.h</a></div></div>
<div class="ttc" id="enum_8h_html"><div class="ttname"><a href="enum_8h.html">enum.h</a></div></div>
<div class="ttc" id="namespaceshaka_1_1impl_html_ae6267ff59607be3e3b48f714923eb3d8"><div class="ttname"><a href="namespaceshaka_1_1impl.html#ae6267ff59607be3e3b48f714923eb3d8">shaka::impl::RawType</a></div><div class="ttdeci">typename std::remove_cv&lt; typename std::remove_reference&lt; T &gt;::type &gt;::type RawType</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00070">register_member.h:70</a></div></div>
<div class="ttc" id="backing__object_8h_html"><div class="ttname"><a href="backing__object_8h.html">backing_object.h</a></div></div>
<div class="ttc" id="classshaka_1_1BackingObject_html_ade30a75e510f378d4508fa4b1b282895"><div class="ttname"><a href="classshaka_1_1BackingObject.html#ade30a75e510f378d4508fa4b1b282895">shaka::BackingObject::kInternalFieldCount</a></div><div class="ttdeci">static constexpr const size_t kInternalFieldCount</div><div class="ttdef"><b>Definition:</b> <a href="backing__object_8h_source.html#l00061">backing_object.h:61</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1HandleSetReturn_html"><div class="ttname"><a href="structshaka_1_1impl_1_1HandleSetReturn.html">shaka::impl::HandleSetReturn</a></div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00151">register_member.h:151</a></div></div>
<div class="ttc" id="structshaka_1_1ExceptionOr_3_01void_01_4_html"><div class="ttname"><a href="structshaka_1_1ExceptionOr_3_01void_01_4.html">shaka::ExceptionOr&lt; void &gt;</a></div><div class="ttdef"><b>Definition:</b> <a href="exception__or_8h_source.html#l00041">exception_or.h:41</a></div></div>
<div class="ttc" id="src_2util_2utils_8h_html"><div class="ttname"><a href="src_2util_2utils_8h.html">utils.h</a></div></div>
<div class="ttc" id="classshaka_1_1js_1_1JsError_html_aa36918ba5dd5458855cbd358e98afacc"><div class="ttname"><a href="classshaka_1_1js_1_1JsError.html#aa36918ba5dd5458855cbd358e98afacc">shaka::js::JsError::error</a></div><div class="ttdeci">ReturnVal&lt; JsValue &gt; error() const</div><div class="ttdef"><b>Definition:</b> <a href="js__error_8h_source.html#l00052">js_error.h:52</a></div></div>
<div class="ttc" id="promise_8h_html"><div class="ttname"><a href="promise_8h.html">promise.h</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1InternalCallbackData_html_a81817615cfa4dd0ed2aca66fdf86f9bc"><div class="ttname"><a href="structshaka_1_1impl_1_1InternalCallbackData.html#a81817615cfa4dd0ed2aca66fdf86f9bc">shaka::impl::InternalCallbackData::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00314">register_member.h:314</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1CallAndSetReturn_html"><div class="ttname"><a href="structshaka_1_1impl_1_1CallAndSetReturn.html">shaka::impl::CallAndSetReturn</a></div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00190">register_member.h:190</a></div></div>
<div class="ttc" id="classshaka_1_1PseudoSingleton_html_acc4530aa66dc6eef8bc80ddc78cde884"><div class="ttname"><a href="classshaka_1_1PseudoSingleton.html#acc4530aa66dc6eef8bc80ddc78cde884">shaka::PseudoSingleton&lt; JsEngine &gt;::Instance</a></div><div class="ttdeci">static JsEngine * Instance()</div><div class="ttdef"><b>Definition:</b> <a href="pseudo__singleton_8h_source.html#l00073">pseudo_singleton.h:73</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1CallHelper_html"><div class="ttname"><a href="structshaka_1_1impl_1_1CallHelper.html">shaka::impl::CallHelper</a></div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00213">register_member.h:213</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1ThrowError_html"><div class="ttname"><a href="structshaka_1_1impl_1_1ThrowError.html">shaka::impl::ThrowError</a></div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00081">register_member.h:81</a></div></div>
<div class="ttc" id="classshaka_1_1Promise_html_ae4732fb199ecfee7bf5ee02644558dd2"><div class="ttname"><a href="classshaka_1_1Promise.html#ae4732fb199ecfee7bf5ee02644558dd2">shaka::Promise::Rejected</a></div><div class="ttdeci">static Promise Rejected(const js::JsError &amp;error)</div><div class="ttdef"><b>Definition:</b> <a href="promise_8h_source.html#l00077">promise.h:77</a></div></div>
<div class="ttc" id="classshaka_1_1BackingObject_html"><div class="ttname"><a href="classshaka_1_1BackingObject.html">shaka::BackingObject</a></div><div class="ttdef"><b>Definition:</b> <a href="backing__object_8h_source.html#l00056">backing_object.h:56</a></div></div>
<div class="ttc" id="classshaka_1_1impl_1_1JsCallback_html"><div class="ttname"><a href="classshaka_1_1impl_1_1JsCallback.html">shaka::impl::JsCallback</a></div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00417">register_member.h:417</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1CallHelper_html_afb201435e803b86fc77ab19b42d1cea7"><div class="ttname"><a href="structshaka_1_1impl_1_1CallHelper.html#afb201435e803b86fc77ab19b42d1cea7">shaka::impl::CallHelper::ConvertAndCallFunction</a></div><div class="ttdeci">static bool ConvertAndCallFunction(const std::string &amp;func_name, const std::string &amp;target_name, bool is_member_func, const CallbackArguments &amp;arguments, Func &amp;&amp;callback, GivenArgs &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00215">register_member.h:215</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1HandleSetReturn_3_01ExceptionOr_3_01T_01_4_01_4_html_a3128ab80d10e0de6deb3bc581315beeb"><div class="ttname"><a href="structshaka_1_1impl_1_1HandleSetReturn_3_01ExceptionOr_3_01T_01_4_01_4.html#a3128ab80d10e0de6deb3bc581315beeb">shaka::impl::HandleSetReturn&lt; ExceptionOr&lt; T &gt; &gt;::SetReturn</a></div><div class="ttdeci">static bool SetReturn(const CallbackArguments &amp;arguments, const ExceptionOr&lt; T &gt; &amp;ret)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00171">register_member.h:171</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1JsConstructorCreateOrThrow_3_01This_00_01void_01_4_html_a0f3942ff3f0913bb7254066ed0e26fe9"><div class="ttname"><a href="structshaka_1_1impl_1_1JsConstructorCreateOrThrow_3_01This_00_01void_01_4.html#a0f3942ff3f0913bb7254066ed0e26fe9">shaka::impl::JsConstructorCreateOrThrow&lt; This, void &gt;::CreateOrThrow</a></div><div class="ttdeci">static bool CreateOrThrow(const CallbackArguments &amp;arguments)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00477">register_member.h:477</a></div></div>
<div class="ttc" id="convert__js_8h_html"><div class="ttname"><a href="convert__js_8h.html">convert_js.h</a></div></div>
<div class="ttc" id="namespaceshaka_html_ada8d40961fa5d6cc6f080ee091dbc3d7"><div class="ttname"><a href="namespaceshaka.html#ada8d40961fa5d6cc6f080ee091dbc3d7">shaka::SetMemberRaw</a></div><div class="ttdeci">void SetMemberRaw(Handle&lt; JsObject &gt; object, const std::string &amp;name, Handle&lt; JsValue &gt; value)</div><div class="ttdef"><b>Definition:</b> <a href="v8_2js__wrappers_8cc_source.html#l00147">js_wrappers.cc:147</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1InternalCallbackData_html_a627ffc0e34aa6653b05640e6620e0535"><div class="ttname"><a href="structshaka_1_1impl_1_1InternalCallbackData.html#a627ffc0e34aa6653b05640e6620e0535">shaka::impl::InternalCallbackData::target</a></div><div class="ttdeci">std::string target</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00315">register_member.h:315</a></div></div>
<div class="ttc" id="classshaka_1_1js_1_1JsError_html"><div class="ttname"><a href="classshaka_1_1js_1_1JsError.html">shaka::js::JsError</a></div><div class="ttdef"><b>Definition:</b> <a href="js__error_8h_source.html#l00030">js_error.h:30</a></div></div>
<div class="ttc" id="js__error_8h_html"><div class="ttname"><a href="js__error_8h.html">js_error.h</a></div></div>
<div class="ttc" id="namespaceshaka_html_a3cdd6460cea64c521383a8aff8eedd36"><div class="ttname"><a href="namespaceshaka.html#a3cdd6460cea64c521383a8aff8eedd36">shaka::RegisterGlobalFunction</a></div><div class="ttdeci">void RegisterGlobalFunction(const std::string &amp;name, Func &amp;&amp;callback)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00632">register_member.h:632</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1InternalCallbackData_html_a7a5b5d9076d93f165fd627867741cf74"><div class="ttname"><a href="structshaka_1_1impl_1_1InternalCallbackData.html#a7a5b5d9076d93f165fd627867741cf74">shaka::impl::InternalCallbackData::callback</a></div><div class="ttdeci">std::decay&lt; Func &gt;::type callback</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00313">register_member.h:313</a></div></div>
<div class="ttc" id="namespaceshaka_html_a8ca499b1abbf5e50465a975171493c40"><div class="ttname"><a href="namespaceshaka.html#a8ca499b1abbf5e50465a975171493c40">shaka::ConvertToString</a></div><div class="ttdeci">std::string ConvertToString(Handle&lt; JsValue &gt; value)</div><div class="ttdef"><b>Definition:</b> <a href="v8_2js__wrappers_8cc_source.html#l00203">js_wrappers.cc:203</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1ThrowError_html_aeb598dbbc268a3817e2cfc8dc7e5f263"><div class="ttname"><a href="structshaka_1_1impl_1_1ThrowError.html#aeb598dbbc268a3817e2cfc8dc7e5f263">shaka::impl::ThrowError::kBufferSize</a></div><div class="ttdeci">static constexpr const size_t kBufferSize</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00082">register_member.h:82</a></div></div>
<div class="ttc" id="classshaka_1_1js_1_1JsError_html_a3a0d3cca8eff95d08d9cdaf0436e1ee5"><div class="ttname"><a href="classshaka_1_1js_1_1JsError.html#a3a0d3cca8eff95d08d9cdaf0436e1ee5">shaka::js::JsError::TypeError</a></div><div class="ttdeci">static JsError TypeError(const std::string &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="js__error_8cc_source.html#l00081">js_error.cc:81</a></div></div>
<div class="ttc" id="namespaceshaka_html_adce55cd7ecb3df56198e6c55d6c74c87"><div class="ttname"><a href="namespaceshaka.html#adce55cd7ecb3df56198e6c55d6c74c87">shaka::GetContext</a></div><div class="ttdeci">JSContextRef GetContext()</div><div class="ttdef"><b>Definition:</b> <a href="jsc__utils_8cc_source.html#l00024">jsc_utils.cc:24</a></div></div>
<div class="ttc" id="dom__exception_8cc_html_a254bf0858da09c96a48daf64404eb4f8"><div class="ttname"><a href="dom__exception_8cc.html#a254bf0858da09c96a48daf64404eb4f8">message</a></div><div class="ttdeci">const char * message</div><div class="ttdef"><b>Definition:</b> <a href="dom__exception_8cc_source.html#l00036">dom_exception.cc:36</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1InternalCallbackData_html"><div class="ttname"><a href="structshaka_1_1impl_1_1InternalCallbackData.html">shaka::impl::InternalCallbackData</a></div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00309">register_member.h:309</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1CallHelper_3_01ArgCount_00_01ArgCount_01_4_html_a10c9688d8c9c79a60facd23dc56a7dd7"><div class="ttname"><a href="structshaka_1_1impl_1_1CallHelper_3_01ArgCount_00_01ArgCount_01_4.html#a10c9688d8c9c79a60facd23dc56a7dd7">shaka::impl::CallHelper&lt; ArgCount, ArgCount &gt;::ConvertAndCallFunction</a></div><div class="ttdeci">static bool ConvertAndCallFunction(const std::string &amp;func_name, const std::string &amp;target_name, bool is_member_func, const CallbackArguments &amp;arguments, Func &amp;&amp;callback, GivenArgs &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00290">register_member.h:290</a></div></div>
<div class="ttc" id="names_8h_html"><div class="ttname"><a href="names_8h.html">names.h</a></div></div>
<div class="ttc" id="structshaka_1_1TypeName_html"><div class="ttname"><a href="structshaka_1_1TypeName.html">shaka::TypeName</a></div><div class="ttdef"><b>Definition:</b> <a href="names_8h_source.html#l00047">names.h:47</a></div></div>
<div class="ttc" id="namespaceshaka_html_a0d7d5fdb3845c000258a55bc22db8575"><div class="ttname"><a href="namespaceshaka.html#a0d7d5fdb3845c000258a55bc22db8575">shaka::JsStringFromUtf8</a></div><div class="ttdeci">ReturnVal&lt; JsString &gt; JsStringFromUtf8(const std::string &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="v8_2js__wrappers_8cc_source.html#l00266">js_wrappers.cc:266</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1CallAndSetReturn_html_a06cee7e58124350827eedf234f3ba0b6"><div class="ttname"><a href="structshaka_1_1impl_1_1CallAndSetReturn.html#a06cee7e58124350827eedf234f3ba0b6">shaka::impl::CallAndSetReturn::Call</a></div><div class="ttdeci">static bool Call(const CallbackArguments &amp;arguments, Func callback, Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00192">register_member.h:192</a></div></div>
<div class="ttc" id="namespaceshaka_html_ae350ecab2884489334bd02dd12f23bf7"><div class="ttname"><a href="namespaceshaka.html#ae350ecab2884489334bd02dd12f23bf7">shaka::GetIsolate</a></div><div class="ttdeci">v8::Isolate * GetIsolate()</div><div class="ttdef"><b>Definition:</b> <a href="v8__utils_8cc_source.html#l00027">v8_utils.cc:27</a></div></div>
<div class="ttc" id="structshaka_1_1TypeName_html_a99761e1f0193bfe72f5e3a13a8e92973"><div class="ttname"><a href="structshaka_1_1TypeName.html#a99761e1f0193bfe72f5e3a13a8e92973">shaka::TypeName::name</a></div><div class="ttdeci">static std::string name()</div><div class="ttdef"><b>Definition:</b> <a href="names_8h_source.html#l00048">names.h:48</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1InternalCallbackData_html_a7c7898683c2d71e2e3ef6ba62bee43e6"><div class="ttname"><a href="structshaka_1_1impl_1_1InternalCallbackData.html#a7c7898683c2d71e2e3ef6ba62bee43e6">shaka::impl::InternalCallbackData::is_member_func</a></div><div class="ttdeci">bool is_member_func</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00316">register_member.h:316</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1ThrowError_html_a18365fa554d620cf87f06e18834b1fbe"><div class="ttname"><a href="structshaka_1_1impl_1_1ThrowError.html#a18365fa554d620cf87f06e18834b1fbe">shaka::impl::ThrowError::CannotConvert</a></div><div class="ttdeci">static bool CannotConvert(const CallbackArguments *args, const std::string &amp;name, const std::string &amp;target, const std::string &amp;given, const std::string &amp;required)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00099">register_member.h:99</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1get__create__type_html_abefd4d6ce55434434e1ac6f69819320f"><div class="ttname"><a href="structshaka_1_1impl_1_1get__create__type.html#abefd4d6ce55434434e1ac6f69819320f">shaka::impl::get_create_type::type</a></div><div class="ttdeci">void type</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00459">register_member.h:459</a></div></div>
<div class="ttc" id="namespaceshaka_html_a3f28a8c188857613b5945adf20064e2f"><div class="ttname"><a href="namespaceshaka.html#a3f28a8c188857613b5945adf20064e2f">shaka::GetMemberRaw</a></div><div class="ttdeci">ReturnVal&lt; JsValue &gt; GetMemberRaw(Handle&lt; JsObject &gt; object, const std::string &amp;name, LocalVar&lt; JsValue &gt; *exception=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="v8_2js__wrappers_8cc_source.html#l00136">js_wrappers.cc:136</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1ThrowError_html_a6d4884f6cf430517082941a11bb2d5ab"><div class="ttname"><a href="structshaka_1_1impl_1_1ThrowError.html#a6d4884f6cf430517082941a11bb2d5ab">shaka::impl::ThrowError::General</a></div><div class="ttdeci">static bool General(const CallbackArguments *args, const std::string &amp;name, const std::string &amp;target, const std::string &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00109">register_member.h:109</a></div></div>
<div class="ttc" id="namespaceshaka_html_ac4682f9baf215e4253dc51f91bef4fa0"><div class="ttname"><a href="namespaceshaka.html#ac4682f9baf215e4253dc51f91bef4fa0">shaka::MaybeUnwrapPointer</a></div><div class="ttdeci">void * MaybeUnwrapPointer(Handle&lt; JsValue &gt; value)</div><div class="ttdef"><b>Definition:</b> <a href="v8_2js__wrappers_8cc_source.html#l00217">js_wrappers.cc:217</a></div></div>
<div class="ttc" id="classshaka_1_1Promise_html"><div class="ttname"><a href="classshaka_1_1Promise.html">shaka::Promise</a></div><div class="ttdef"><b>Definition:</b> <a href="promise_8h_source.html#l00037">promise.h:37</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1__callable__identifier_html"><div class="ttname"><a href="structshaka_1_1impl_1_1__callable__identifier.html">shaka::impl::_callable_identifier</a></div><div class="ttdef"><b>Definition:</b> <a href="convert__js_8h_source.html#l00041">convert_js.h:41</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1ConvertHelper_html"><div class="ttname"><a href="structshaka_1_1impl_1_1ConvertHelper.html">shaka::impl::ConvertHelper</a></div><div class="ttdef"><b>Definition:</b> <a href="convert__js_8h_source.html#l00082">convert_js.h:82</a></div></div>
<div class="ttc" id="structshaka_1_1impl_1_1JsConstructorCreateOrThrow_3_01This_00_01This_01_5_07_5_08_07Args_8_8_8_08_4_html_a841766f52f5782b3a65bf521a861933d"><div class="ttname"><a href="structshaka_1_1impl_1_1JsConstructorCreateOrThrow_3_01This_00_01This_01_5_07_5_08_07Args_8_8_8_08_4.html#a841766f52f5782b3a65bf521a861933d">shaka::impl::JsConstructorCreateOrThrow&lt; This, This *(*)(Args...)&gt;::CreateOrThrow</a></div><div class="ttdeci">static bool CreateOrThrow(const CallbackArguments &amp;arguments)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00486">register_member.h:486</a></div></div>
<div class="ttc" id="namespaceshaka_html_abdf3c72fe609bb86adafe8836b9cffe4"><div class="ttname"><a href="namespaceshaka.html#abdf3c72fe609bb86adafe8836b9cffe4">shaka::CreateMemberFunction</a></div><div class="ttdeci">ReturnVal&lt; JsFunction &gt; CreateMemberFunction(const std::string &amp;target, const std::string &amp;name, Func &amp;&amp;callback)</div><div class="ttdef"><b>Definition:</b> <a href="register__member_8h_source.html#l00617">register_member.h:617</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
